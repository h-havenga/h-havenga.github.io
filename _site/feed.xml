<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.6.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2017-11-26T23:02:46+01:00</updated><id>http://localhost:4000/</id><title type="html">Howzit, I’m Henno</title><subtitle>Geo and spatial science graduate student, Debian GNU\Linux user, open-source advocate, runner and dog lover.  I'm navigating this strange new world of programming, blogging and sharing. Bare with me. 
</subtitle><entry><title type="html">GMT Part 3: Working with NetCDF data by creating a synoptic weather map</title><link href="http://localhost:4000/maps/data/2017/11/25/using-generic-mapping-tools_netcdf.html" rel="alternate" type="text/html" title="GMT Part 3: Working with NetCDF data by creating a synoptic weather map" /><published>2017-11-25T09:00:29+01:00</published><updated>2017-11-25T09:00:29+01:00</updated><id>http://localhost:4000/maps/data/2017/11/25/using-generic-mapping-tools_netcdf</id><content type="html" xml:base="http://localhost:4000/maps/data/2017/11/25/using-generic-mapping-tools_netcdf.html">&lt;p&gt;For my thesis I had to examine synoptic scale circulation over
South-Africa, I wanted to recreate a &lt;em&gt;classic&lt;/em&gt; synoptic map that
represented mean sea level pressure and also geopotentail at 500hPa.
I knew the &lt;a href=&quot;http://www.weathersa.co.za/&quot;&gt;South-African Weather Service
(SAWS)&lt;/a&gt; has &lt;a href=&quot;http://www.weathersa.co.za/observations/synoptic-charts&quot;&gt;daily
maps&lt;/a&gt; they
make publicly available, but the maps are not always the highest
quality as they are hand drawn and I am not the biggest fan of the
SAWS policies.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://localhost:4000/assets/images/maps/synoptic_20121109.png&quot; alt=&quot;sawsmap&quot; /&gt;
&lt;sub&gt;A SAWS synoptic map. &lt;/sub&gt;&lt;/p&gt;

&lt;p&gt;In addition to this I was also attempting to better understand GMT’s
handling of NetCDF files. I used
&lt;a href=&quot;http://apps.ecmwf.int/datasets/data/interim-full-daily/levtype%3Dsfc/&quot;&gt;ERA-Interim&lt;/a&gt;
data in my thesis for WRF and also some objective clustering, the ERA
dataset was thus the obvious choice. Using GMT to recreate these
synoptic maps took me a couple of days, mostly the time consumption
was related to handling the NetCDF data.  GMT uses Reverse Polish
Notation (RPN) for math functions which I needed to figure out as
you’ll see. It is also useful to have CDO, ncview and ncdump installed
for data inspection and manipulating. A last point is that I compiled
it all in a bash script, this is useful for various reasons, so just
learn to do it.&lt;/p&gt;

&lt;p&gt;First off a synoptic map is pretty simple, it consists of pressure
levels and if you really want you can add some other variables such as
CAPE, temperature, precipitate water, and so forth. Synoptic mainly
refers to a scale in this context if you wondered, a 1975
&lt;a href=&quot;https://www.gfdl.noaa.gov/bibliography/related_files/io7501.pdf&quot;&gt;paper&lt;/a&gt;
by Isidoro Orlanski explains this concept of scale related to weather
and climate clearly.  You’ll notice is that the projection used in the
SAWS map is not the Mercator projection I’ve used previously, but
instead a &lt;a href=&quot;https://en.wikipedia.org/wiki/Cylindrical_equal-area_projection&quot;&gt;equal area
projection&lt;/a&gt;,
namely &lt;a href=&quot;https://en.wikipedia.org/wiki/Lambert_azimuthal_equal-area_projection&quot;&gt;Lambert Azimuthal
Equal-Area&lt;/a&gt;.
Coincidently someone already explained the projection using
South-Africa   as an
&lt;a href=&quot;http://www-k12.atmos.washington.edu/~ovens/gmt/doc/html/GMT_Docs/node71.html&quot;&gt;example&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A quick drawing of the basemap and we can see th projection is
similar,&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gmt psbasemap &lt;span class=&quot;nt&quot;&gt;-R-20&lt;/span&gt;/-46/60/-12r &lt;span class=&quot;nt&quot;&gt;-JA25&lt;/span&gt;/-30/25.5 &lt;span class=&quot;nt&quot;&gt;-Xc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Yc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B15a0g15&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; lambert_base.ps&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;http://localhost:4000/assets/images/maps/lambert_base.png&quot; alt=&quot;basemap&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This does not mean a lot without any land referance, the -K option
tells us we want to add something later to the map. Using pscoast and
-Df and -N1 options we can add coastlines and national borders to this
map,&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gmt pscoast &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Df&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-N1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; lambert_base.ps&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;http://localhost:4000/assets/images/maps/lambert_base_coast.png&quot; alt=&quot;basemap_coast&quot; /&gt;&lt;/p&gt;

&lt;p&gt;That was pretty straight forward, we can see that the map is more or
less similar to the synoptic map we want to make. Now we need to add
the pressure lines to the map, this gets a little more tricky. As
mentioned, I used &lt;a href=&quot;http://apps.ecmwf.int/datasets/data/interim-full-daily/levtype%3Dsfc/&quot;&gt;ERA-Interim&lt;/a&gt;
data in my thesis, the data is maintained by the
&lt;a href=&quot;https://www.ecmwf.int/&quot;&gt;ECMWF&lt;/a&gt; and publicly available, you do however
need to sign up to use the data. You can download the
data directly from the website, it is however easier to use the &lt;a href=&quot;https://software.ecmwf.int/wiki/display/WEBAPI/Access+ECMWF+Public+Datasets&quot;&gt;ECMWF
Python API&lt;/a&gt;.
Do this to use the script I wrote below, otherwise it will
not work and you’ll think I’m stupid. So, once you’ve got that set up
the rest will make a little more sense.&lt;/p&gt;

&lt;p&gt;I initially tried to just run gmt grdimage without any data conversion, this
did not work. Inspecting the ordinal data with,&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ncdump &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; msl.nc &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Shows us the msl variable is is present,&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;netcdf msl &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
dimensions:
	longitude &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 480 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	latitude &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 241 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; UNLIMITED &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; // &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1 currently&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
variables:
	float longitude&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;longitude&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		longitude:units &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;degrees_east&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		longitude:long_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;longitude&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	float latitude&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;latitude&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		latitude:units &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;degrees_north&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		latitude:long_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;latitude&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	int &lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt;:units &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;hours since 1900-01-01 00:00:0.0&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt;:long_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;time&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt;:calendar &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gregorian&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	short msl&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt;, latitude, longitude&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		msl:scale_factor &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 0.130510582454641 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		msl:add_offset &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 99611.2472447088 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		msl:_FillValue &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-32767s&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		msl:missing_value &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-32767s&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		msl:units &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Pa&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		msl:long_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Mean sea level pressure&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		msl:standard_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;air_pressure_at_sea_level&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;I think the data needs to be in a 2-dimensional grid, explained
&lt;a href=&quot;http://gmt.soest.hawaii.edu/doc/latest/grdconvert.html#gmt-standard-netcdf-files&quot;&gt;here&lt;/a&gt;
in more detail. To get a GMT compliant file we need to do,&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'msl.nc?msl'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gmslp_org&lt;/span&gt;.nc&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Inspecting the data shows us that z has replaced msl&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;netcdf mslp_org &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
dimensions:
	lon &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 480 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	lat &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 241 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
variables:
	double lon&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;lon&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		lon:long_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;longitude&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		lon:units &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;degrees_east&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		lon:actual_range &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-180&lt;/span&gt;., 179.25 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	double lat&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;lat&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		lat:long_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;latitude&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		lat:units &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;degrees_north&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		lat:actual_range &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-90&lt;/span&gt;., 90. &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	float z&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;lat, lon&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		z:long_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Mean sea level pressure&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		z:units &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Pa&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		z:_FillValue &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; NaNf &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		z:actual_range &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 95334.9375, 103887.6875 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;We can also see that 95334 is not a pressure value, we have to divide
it by 100. It is possible to use CDO or NCO tools, but the powerful
GMT has math functions in the form of &lt;a href=&quot;https://en.wikipedia.org/wiki/Reverse_Polish_notation&quot;&gt;Reverse Polish Notation
(RPN)&lt;/a&gt;. To
convert new mslp value by a 100 we can do&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gmt grdmath mslp_org.nc 100 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; mslp_nrm.nc&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Because the data covers the whole word we can make a quick plot
without to much trouble using grdimage to see if everything seems
realistic enough.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gmt grdimage mslp_nrm.nc &lt;span class=&quot;nt&quot;&gt;-JX25&lt;/span&gt;/0d &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; mslp.ps
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-Rmslp_nrm&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-JX&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.5 &lt;span class=&quot;nt&quot;&gt;-N3&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; mslp.ps &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This gives us a image of the mslp scaled and covering the whole world. 
&lt;img src=&quot;http://localhost:4000/assets/images/maps/mslp.png&quot; alt=&quot;gmtmslp&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We do however want a contoured mslp and also clip it to South-Africa.
To do this we need to call the psbasemap and pscoast functions we used
earlier and then use grdcontour to contour the data.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gmt psbasemap &lt;span class=&quot;nt&quot;&gt;-R-20&lt;/span&gt;/-46/60/-12r &lt;span class=&quot;nt&quot;&gt;-JA25&lt;/span&gt;/-30/25.5 &lt;span class=&quot;nt&quot;&gt;-Xc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Yc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B15a0g15&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; synoptic_map.ps
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Df&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-N1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; synoptic_map.ps 
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wthinnest&lt;/span&gt; mslp_nrm.nc &lt;span class=&quot;nt&quot;&gt;-C4&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A4&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; synoptic_map.ps &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;We get a nice map with the MSLP contoured over South-Africa, much like
the original synoptic map.
&lt;img src=&quot;http://localhost:4000/assets/images/maps/synoptic_map.png&quot; alt=&quot;gmtsynopticmap&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We can see that the ERA created map captures similar features as
the SAWS synoptic map; note the South-Indian Ocean High Pressure and
the South-Atlantic High Pressure and the low pressure from the
Easterly Wave over the Country. To add the L and H indicators I would
use inkscape at this time, a script would be possible but that is
beyond me right now. The weather stations indicators would also theoretically be
possible and I’ll try to figure that out in the future. 
The below map is the final map I created, you can see The script below
does all the above steps with the addition of the upper 500hPa
geopotential. I also added some color. In the end we end up with a new
and improved (in my subjective opinion) synoptic map as seen below.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://localhost:4000/assets/images/maps/southafrica_syn.png&quot; alt=&quot;gmtsynopticmap&quot; /&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;####################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# This is to make a synotpic map                   #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# See below source for some more info              #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# http://gmt.soest.hawaii.edu/boards/1/topics/5997 #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;####################################################&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;####################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Step 1: Download the ERA-DATA with this script   #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;####################################################&lt;/span&gt;

python &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;
from ecmwfapi import ECMWFDataServer
server = ECMWFDataServer()
server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2012-11-09/to/2012-11-09&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levtype&quot;: &quot;sfc&quot;,
    &quot;param&quot;: &quot;151.128&quot;,
    &quot;step&quot;: &quot;0&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;12:00:00&quot;,
    &quot;type&quot;: &quot;an&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;msl.nc&quot;,
})

server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2012-11-09/to/2012-11-09&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levelist&quot;: &quot;500&quot;,
    &quot;levtype&quot;: &quot;pl&quot;,
    &quot;param&quot;: &quot;129.128&quot;,
    &quot;step&quot;: &quot;0&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;12:00:00&quot;,
    &quot;type&quot;: &quot;an&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;zg500.nc&quot;,
})
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF

&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ERA-Data downloaded. Press enter to continue and convert data for use in GMT &quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#############################################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# The file is not compatible with GMT, to get it to work do ?msl           #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# selects the variable we want and writes it to mslp.nc. The '' is         #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# important otherwise bash looks for a wildcard.                           #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# The units are also wrong to correct them we need to use gmt grdmath      #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#############################################################################&lt;/span&gt;

gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'msl.nc?msl'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gmslp_org&lt;/span&gt;.nc
gmt grdedit mslp_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;
gmt grdmath mslp_org.nc 100 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; mslp_nrm.nc

gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'zg500.nc?z'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gzg500_org&lt;/span&gt;.nc
gmt grdedit zg500_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;
gmt grdmath zg500_org.nc 10 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; zg500_nrm.nc

&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Lets inspect the data with ncdump. Press enter to continue &quot;&lt;/span&gt;
ncdump &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; mslp_nrm.nc
ncdump &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; zg500_nrm.nc

&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Lets inspect the data with grdinfo. Press enter to continue &quot;&lt;/span&gt;
gmt grdinfo mslp_nrm.nc
gmt grdinfo zg500_nrm.nc

&lt;span class=&quot;c&quot;&gt;####################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Here we create a very basic map to view our data #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;####################################################&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Lets create a world map. Press enter to continue &quot;&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'MSLP map '&lt;/span&gt;
gmt grdimage mslp_nrm.nc &lt;span class=&quot;nt&quot;&gt;-JX25&lt;/span&gt;/0d &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; mslp.ps
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-Rmslp_nrm&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-JX&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.5 &lt;span class=&quot;nt&quot;&gt;-N3&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; mslp.ps

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Geopotential map '&lt;/span&gt;
gmt grdimage zg500_nrm.nc &lt;span class=&quot;nt&quot;&gt;-JX25&lt;/span&gt;/0d &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; zg500.ps
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-Rzg500_nrm&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-JX&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.5 &lt;span class=&quot;nt&quot;&gt;-N3&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; zg500.ps

&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;World map created. We will now create a map of South-Africa. Press enter to continue &quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#################################################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Now we need to create a contoured map from the netcdf file for SA             #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# See https://www.soest.hawaii.edu/gmt/gmt/html/man/gmtcolors.html              #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# http://gmt.soest.hawaii.edu/doc/latest/GMT_Docs.html#specifying-pen-attributes#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#################################################################################&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;southafrica_syn.ps
 
&lt;span class=&quot;c&quot;&gt;#Coordinates (actually lower left and upper right not E S W N) &lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;east&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-20&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;south&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-46&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;west&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;60
&lt;span class=&quot;nv&quot;&gt;north&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-12r&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#Projection (Lambert Azimuthal Equal-Area)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;25.5

gmt psbasemap  &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$east&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$south&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$west&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$north&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA25&lt;/span&gt;/-30/&lt;span class=&quot;nv&quot;&gt;$width&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Xc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Yc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B15a0g15&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt pscoast    &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Df&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-N1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Givory&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Slightskyblue&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wthinnest&lt;/span&gt; mslp_nrm.nc &lt;span class=&quot;nt&quot;&gt;-C2&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A2&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wthick&lt;/span&gt;,red zg500_nrm.nc &lt;span class=&quot;nt&quot;&gt;-C100&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A100&lt;/span&gt;+v &lt;span class=&quot;nt&quot;&gt;-P&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gn1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Done. Press enter to continue &quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</content><author><name></name></author><summary type="html">For my thesis I had to examine synoptic scale circulation over South-Africa, I wanted to recreate a classic synoptic map that represented mean sea level pressure and also geopotentail at 500hPa. I knew the South-African Weather Service (SAWS) has daily maps they make publicly available, but the maps are not always the highest quality as they are hand drawn and I am not the biggest fan of the SAWS policies.</summary></entry><entry><title type="html">How I made the travel maps in this site</title><link href="http://localhost:4000/gmt/map/travel/2017/11/22/travelmap-gmt-bash.html" rel="alternate" type="text/html" title="How I made the travel maps in this site" /><published>2017-11-22T13:43:28+01:00</published><updated>2017-11-22T13:43:28+01:00</updated><id>http://localhost:4000/gmt/map/travel/2017/11/22/travelmap-gmt-bash</id><content type="html" xml:base="http://localhost:4000/gmt/map/travel/2017/11/22/travelmap-gmt-bash.html">&lt;p&gt;This is a very hacked script I used to create my travel map&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#Use ISO2 country codes&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;visited&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ZA,BW,NA,GB,ZM,MW,NL,CH,FR,FI,DE,BE,LU,CZ,US,RE,US,AT,LS,&quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;usa&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;US.NC,US.SC,US.NY,US.VA,US.WY,US.MO,US.SD,US.TN,US.WV,US.KS,US.CO,US.MA,US.GA,US.MI,US.AZ,US.KY,US.NJ,US.PA,US.TX,US.DC,US.OR,US.ID,US.MS,US.CA,US.NE,US.NM,US.AL,US.IL,US.AL,US.LA,US.IA,US.MD&quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# World&lt;/span&gt;
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-Rd&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JN0&lt;/span&gt;/27.5 &lt;span class=&quot;nt&quot;&gt;-Xc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Yc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Bg30&lt;/span&gt;/g15 &lt;span class=&quot;nt&quot;&gt;-Dh&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$visited&lt;/span&gt;+p0.25p,black+g100/255/100 &lt;span class=&quot;nt&quot;&gt;-N1&lt;/span&gt;/0.25p,black &lt;span class=&quot;nt&quot;&gt;-A1000&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Glightgray&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; travelmap_world.ps
convert &lt;span class=&quot;nt&quot;&gt;-density&lt;/span&gt; 300 travelmap_world.ps &lt;span class=&quot;nt&quot;&gt;-rotate&lt;/span&gt; 90 travelmap_world.png 
mogrify &lt;span class=&quot;nt&quot;&gt;-format&lt;/span&gt; png &lt;span class=&quot;nt&quot;&gt;-gravity&lt;/span&gt; south &lt;span class=&quot;nt&quot;&gt;-chop&lt;/span&gt; 0x300 &lt;span class=&quot;nt&quot;&gt;-gravity&lt;/span&gt; north &lt;span class=&quot;nt&quot;&gt;-chop&lt;/span&gt; 0x300 travelmap_world.png

&lt;span class=&quot;c&quot;&gt;# Africa&lt;/span&gt;
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-R-20&lt;/span&gt;/55/-38/40 &lt;span class=&quot;nt&quot;&gt;-JM17&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-P&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Xc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Yc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ba60f30&lt;/span&gt;/a30f15 &lt;span class=&quot;nt&quot;&gt;-Dh&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$visited&lt;/span&gt;+p0.25p,black+g100/255/100 &lt;span class=&quot;nt&quot;&gt;-A100&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-N1&lt;/span&gt;/0.5p,black &lt;span class=&quot;nt&quot;&gt;-Glightgray&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; travelmap_africa.ps
convert &lt;span class=&quot;nt&quot;&gt;-density&lt;/span&gt; 300 travelmap_africa.ps travelmap_africa.png 
mogrify &lt;span class=&quot;nt&quot;&gt;-format&lt;/span&gt; png &lt;span class=&quot;nt&quot;&gt;-gravity&lt;/span&gt; south &lt;span class=&quot;nt&quot;&gt;-chop&lt;/span&gt; 0x500 &lt;span class=&quot;nt&quot;&gt;-gravity&lt;/span&gt; north &lt;span class=&quot;nt&quot;&gt;-chop&lt;/span&gt; 0x500 travelmap_africa.png

&lt;span class=&quot;c&quot;&gt;# Europe&lt;/span&gt;
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-R-20&lt;/span&gt;/50/35/72 &lt;span class=&quot;nt&quot;&gt;-JL15&lt;/span&gt;/35/35/55/25c &lt;span class=&quot;nt&quot;&gt;-Xc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Yc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B10a0&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dh&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$visited&lt;/span&gt;+p0.25p,black+g100/255/100 &lt;span class=&quot;nt&quot;&gt;-Glightgrey&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-N1&lt;/span&gt;/0.5p,black &lt;span class=&quot;nt&quot;&gt;-A100&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; travelmap_europe.ps
convert &lt;span class=&quot;nt&quot;&gt;-density&lt;/span&gt; 300 travelmap_europe.ps &lt;span class=&quot;nt&quot;&gt;-rotate&lt;/span&gt; 90 travelmap_europe.png 

&lt;span class=&quot;c&quot;&gt;# North America&lt;/span&gt;
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-R-130&lt;/span&gt;/-70/24/52 &lt;span class=&quot;nt&quot;&gt;-JL-100&lt;/span&gt;/35/33/45/25c &lt;span class=&quot;nt&quot;&gt;-Xc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Yc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B10a0&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dh&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$usa&lt;/span&gt;+p0.25p,black+g100/255/100 &lt;span class=&quot;nt&quot;&gt;-N1&lt;/span&gt;/0.5p,black &lt;span class=&quot;nt&quot;&gt;-Glightgrey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; travelmap_na.ps
convert &lt;span class=&quot;nt&quot;&gt;-density&lt;/span&gt; 300 travelmap_na.ps &lt;span class=&quot;nt&quot;&gt;-rotate&lt;/span&gt; 90 travelmap_na.png 
mogrify &lt;span class=&quot;nt&quot;&gt;-format&lt;/span&gt; png &lt;span class=&quot;nt&quot;&gt;-gravity&lt;/span&gt; south &lt;span class=&quot;nt&quot;&gt;-chop&lt;/span&gt; 0x300 &lt;span class=&quot;nt&quot;&gt;-gravity&lt;/span&gt; north &lt;span class=&quot;nt&quot;&gt;-chop&lt;/span&gt; 0x300 travelmap_na.png&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</content><author><name></name></author><summary type="html">This is a very hacked script I used to create my travel map</summary></entry><entry><title type="html">Setting a random mac address for a specific network</title><link href="http://localhost:4000/linux/network/bash/2017/11/20/script-to-change-macadress.html" rel="alternate" type="text/html" title="Setting a random mac address for a specific network" /><published>2017-11-20T13:43:28+01:00</published><updated>2017-11-20T13:43:28+01:00</updated><id>http://localhost:4000/linux/network/bash/2017/11/20/script-to-change-macadress</id><content type="html" xml:base="http://localhost:4000/linux/network/bash/2017/11/20/script-to-change-macadress.html">&lt;p&gt;Every network card has a mac address, a serial number of sorts,
assigned to it by which a network can identify you. It is a widely
used way to restrict or monitor your access on a network and it could
be useful in such cases to have a randomly assigned mac address to
improve your privacy and anonymity.  The script is just a bunch a of
commands, you can run them separately if you want to, this just makes
it easier to reuse instead of remembering every step. The mac address
should change with every reconnect.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;This script changes your WiFi mac address. Use this at your
own risk and obey all local laws. By pressing enter you agree that you
understand the risks you may face! Press ctrl-c to exit otherwise &quot;&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Listing all connections. Connected devices are highlighted&quot;&lt;/span&gt;
nmcli con show 

&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Enter the name of the network you wish to modify exactly as
seen above and press enter &quot;&lt;/span&gt; name 
nmcli con modify &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$name&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; wifi.cloned-mac-address random

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Check that the cloned mac address is set to random&quot;&lt;/span&gt; 
nmcli con show &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$name&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;cloned-mac-address&quot;&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Your mac address has been changed and will randomly reassign
each time you restart your connection. Press enter to exit &quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;To use this script save it as something, like
machange.sh and then do;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;bash machange.sh&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</content><author><name></name></author><summary type="html">Every network card has a mac address, a serial number of sorts, assigned to it by which a network can identify you. It is a widely used way to restrict or monitor your access on a network and it could be useful in such cases to have a randomly assigned mac address to improve your privacy and anonymity. The script is just a bunch a of commands, you can run them separately if you want to, this just makes it easier to reuse instead of remembering every step. The mac address should change with every reconnect.</summary></entry><entry><title type="html">German observations</title><link href="http://localhost:4000/communication/language/2017/11/10/languages.html" rel="alternate" type="text/html" title="German observations" /><published>2017-11-10T11:43:29+01:00</published><updated>2017-11-10T11:43:29+01:00</updated><id>http://localhost:4000/communication/language/2017/11/10/languages</id><content type="html" xml:base="http://localhost:4000/communication/language/2017/11/10/languages.html">&lt;p&gt;I’m always surprised about Germans English skills, on the one hand
they are this open, well traveled, well educated, very &lt;em&gt;sofisticated&lt;/em&gt;
society and they have Europe’s strongest economy but yet go to any mid
size town and people are really scared to speak English. Apart from
the French (who apparently just dislike the language), I have yet to
experience this so frequently. Don’t get me wrong. I have absolutely
no problem with it. I love Germans, Germany and saying &lt;em&gt;Kann Ich nog
eine bier haben&lt;/em&gt;, and my mother tongue is neither German nor English
so I don’t have dog in this fight.&lt;/p&gt;

&lt;p&gt;Anyway, one of the main reasons, and Germans will also tell you this,
is that they translate everything for them, every major movie is also
released in German. Compare that to Finland for instance, while
there’s a much smaller population you can get away without knowing a
word of it and I’ve heard that about the other Scandinavian countries
to, and apparently they show all the movies in English. My own English
skills mainly developed from Cartoon Network (maybe my writing still
reflects this).&lt;/p&gt;

&lt;p&gt;There is however some benefits of this mass translation for Germans,
their language is exceptionally well evolved. I say this with envy. My
own native tongue is Afrikaans and I am embarrassed when I hear myself
speak. I often can’t find words to describe common things. There’s
other reasons for that to, in the last three years I’ve lived outside
South-Africa mostly and subsequently I only speak Afrikaans once a week
or so with my family. To be totally honest, my language in general is
at a low point at this moment. I speak broken English to Germans, very
broken German to Germans, and broken Afrikaans to my parents.&lt;/p&gt;

&lt;p&gt;So in that sense, would I encourage Germans to put in more effort into
learning English? Yeah, of course, why not… But, I think it’s
important for the language to continue to flourish and to do that they
have to keep is as ingrained in their society as possible and they
have to publish academic stuff in German. I don’t think that showing
all television shows in English is suddenly going kill a language like
German, but it’s the principle of preserving a language that I care
about. We should strive to build every language up to a place where it
can stand on it’s own in any academic field. We (I) should stop this
tendency to use English neologisms when we don’t know a word.  Yes,
it’s important that we can communicate beyond borders, but we should
never think that an language is useless beyond an airport! I think as
future scientists we have a obligation to take one this challenge. So
whatever your mother tongue is go out and write in it whenever you
can, even if it’s just for yourself&lt;/p&gt;

&lt;p&gt;So on that rant, I am going to challenge myself to improve my
Afrikaans vocabulary again, by writing some stuff and also reading
more books written in Afrikaans.&lt;/p&gt;</content><author><name></name></author><summary type="html">I’m always surprised about Germans English skills, on the one hand they are this open, well traveled, well educated, very sofisticated society and they have Europe’s strongest economy but yet go to any mid size town and people are really scared to speak English. Apart from the French (who apparently just dislike the language), I have yet to experience this so frequently. Don’t get me wrong. I have absolutely no problem with it. I love Germans, Germany and saying Kann Ich nog eine bier haben, and my mother tongue is neither German nor English so I don’t have dog in this fight.</summary></entry><entry><title type="html">GMT Part 2: A topographical map of South-Africa</title><link href="http://localhost:4000/maps/data/2017/11/01/using-generic-mapping-tools_topo.html" rel="alternate" type="text/html" title="GMT Part 2: A topographical map of South-Africa" /><published>2017-11-01T09:00:29+01:00</published><updated>2017-11-01T09:00:29+01:00</updated><id>http://localhost:4000/maps/data/2017/11/01/using-generic-mapping-tools_topo</id><content type="html" xml:base="http://localhost:4000/maps/data/2017/11/01/using-generic-mapping-tools_topo.html">&lt;p&gt;I hope this does not come across as a tutorial of some sort, I am mostly
writing things down for myself. But I know someone might one day copy and
paste this as I’ve done numerous times, but this mostly for me to master
GMT. In the previous GMT related post I created this basic map of
South-Africa. The map does not however have any cities, provincial
boundaries or topography.&lt;/p&gt;

&lt;p&gt;A basic map of South-Africa created with GMT:&lt;br /&gt;
&lt;img src=&quot;http://localhost:4000/assets/images/maps/south_africa.png&quot; alt=&quot;gmtmap&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;sub&gt;Note that I converted is from postscript format to reduce size. &lt;/sub&gt;&lt;/p&gt;

&lt;p&gt;So first we need to get some external topographic and administrative data for
South-Africa. In this case I’ll use ETOPO data from
the &lt;a href=&quot;https://www.ngdc.noaa.gov/mgg/global/global.html&quot;&gt;National Center for Environmental Informatics&lt;/a&gt;.
The cool thing about the Etopo data is that it is already availible in the
GMT readable grd format.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;wget https://www.ngdc.noaa.gov/mgg/global/relief/ETOPO1/data/bedrock/grid_registered/netcdf/ETOPO1_Bed_g_gmt4.grd.gz 
gunzip ETOPO1_Bed_g_gmt4.grd.gz &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The data can be inspected with ncdump or another GMT tool, grdinfo,&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ncdump &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; ETOPO1_Bed_g_gmt4.grd
gmt grdinfo ETOPO1_Bed_g_gmt4.grd&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Next we need the administrative data for South-Africa. GMT only has the
national boundaries for world countries and then also the data for US
states. The admin data can be freely obtained from the &lt;a href=&quot;http://www.gadm.org/country&quot;&gt;GADM
Database&lt;/a&gt;. We need to get the shapefiles for
SA in this case.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;wget http://biogeo.ucdavis.edu/data/gadm2.8/shp/ZAF_adm_shp.zip
unzip ZAF_adm_shp.zip&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The shapefile data needs to be converted for use in GMT. This is done with
a GDAL tool, ogr2ogr. GDAL is a amazing resource and in my mind the
most powerful Geospatial tool out there. If you already have GDAL installed
correctly, we can prepare the admin data. I only wanted the SA provinces
so we do,&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ogr2ogr &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt; GMT ZAF_adm.gmt ZAF_adm1.shp&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Which converts the shapefile into a GMT readable format. So now we have
topography data and provincial data to create a more detailed map. I have
removed the colors specified by the -R and -S switch for the basic. The
topography color table will create colors for the map. Lets create a
bash script to plot the map.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# MAKE A MAP!&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Define the names of the input and output files&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;southafrica_topo.ps                           &lt;span class=&quot;c&quot;&gt;# This will be the name of&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;topo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;./ETOPO1_Bed_g_gmt4.grd                   &lt;span class=&quot;c&quot;&gt;# ETOPO1 topography grid&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;admin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;ZAF_adm1.gmt			       &lt;span class=&quot;c&quot;&gt;# Provincial boundaries&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Define map characteristics&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Define your area 15/33.5/-35/-22 &lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;north&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-22&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;south&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-35&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;east&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;34
&lt;span class=&quot;nv&quot;&gt;west&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;15

&lt;span class=&quot;c&quot;&gt;# Define tick intervals and projection&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;tick&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'-B2.5/2.5WSen'&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;proj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'-JM20'&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Call GMT, define basemap coordinates, make a color table and plot&lt;/span&gt;
gmt psbasemap &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$west&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$east&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$south&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$north&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$proj&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$tick&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-X6&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt makecpt &lt;span class=&quot;nt&quot;&gt;-Crelief&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T-7500&lt;/span&gt;/7500/200 &lt;span class=&quot;nt&quot;&gt;-Z&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; topo.cpt
gmt grdimage &lt;span class=&quot;nv&quot;&gt;$topo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ctopo&lt;/span&gt;.cpt &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.25 &lt;span class=&quot;nt&quot;&gt;-Df&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B&lt;/span&gt;+t&lt;span class=&quot;s2&quot;&gt;&quot;South Africa&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Na0&lt;/span&gt;.05 &lt;span class=&quot;nt&quot;&gt;-I1&lt;/span&gt;/0.25p,skyblue3 &lt;span class=&quot;nt&quot;&gt;-I2&lt;/span&gt;/0.25p,skyblue3 &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt psxy &lt;span class=&quot;nv&quot;&gt;$admin&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.05 &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
open &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This is the map we should get,
&lt;img src=&quot;http://localhost:4000/assets/images/maps/south_africa_topo.png&quot; alt=&quot;gmtmap&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Play around with the &lt;em&gt;-T-&lt;/em&gt; option to get the desired colors. This map looks
a little cooler then the first basic map, however, there is no names of
cities or anything, lets change that. So in GMT you need a list with the
latitude and longitude of cities to plot in the map, something like this:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;28.05   &lt;span class=&quot;nt&quot;&gt;-26&lt;/span&gt;.21  14 0 1 LM Johannesburg
28.23   &lt;span class=&quot;nt&quot;&gt;-25&lt;/span&gt;.71  14 0 1 LM Pretoria
29.45   &lt;span class=&quot;nt&quot;&gt;-23&lt;/span&gt;.89  14 0 1 LM Polokwane
26.15   &lt;span class=&quot;nt&quot;&gt;-29&lt;/span&gt;.08  14 0 1 LM Bloemfontein
18.42   &lt;span class=&quot;nt&quot;&gt;-33&lt;/span&gt;.92  14 0 1 LM Cape Town
31.02   &lt;span class=&quot;nt&quot;&gt;-29&lt;/span&gt;.85  14 0 1 LM Durban
25.52   &lt;span class=&quot;nt&quot;&gt;-33&lt;/span&gt;.71  14 0 1 LM Port Elizabeth
22.45   &lt;span class=&quot;nt&quot;&gt;-33&lt;/span&gt;.99  14 0 1 LM George
17.89   &lt;span class=&quot;nt&quot;&gt;-29&lt;/span&gt;.17  14 0 1 LM Springbok
25.64   &lt;span class=&quot;nt&quot;&gt;-25&lt;/span&gt;.85  14 0 1 LM Mahikeng
30.97   &lt;span class=&quot;nt&quot;&gt;-25&lt;/span&gt;.48  14 0 1 LM Nelspruit
22.58   &lt;span class=&quot;nt&quot;&gt;-32&lt;/span&gt;.35  14 0 1 LM Beauford-Wes&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The first and second column tells us the lat/lon of the city we want on the
map while the other columns is related to text size, marker and of course
the name of the city. In GMT we’re calling the psxy function to plot the
points. Now all that’s required is to call the psxy and pstext to plot the
location and names of the cities respectively.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# MAKE A MAP!&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Define the names of the input and output files&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;southafrica_topo.ps                  &lt;span class=&quot;c&quot;&gt;# This will be the name of&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;topo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;./ETOPO1_Bed_g_gmt4.grd             &lt;span class=&quot;c&quot;&gt;# ETOPO1 topography grid&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;admin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;./ZAF_adm1.gmt			 &lt;span class=&quot;c&quot;&gt;# Provincial boundaries&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;cities&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;./towns.dat                       &lt;span class=&quot;c&quot;&gt;# Towns to plot on map&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Define map characteristics&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Define your area 15/33.5/-35/-22 &lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;north&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-22&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;south&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-35&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;east&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;34
&lt;span class=&quot;nv&quot;&gt;west&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;15

&lt;span class=&quot;c&quot;&gt;# Define tick intervals and projection&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;tick&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'-B2.5/2.5WSen'&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;proj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'-JM20'&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Call GMT, define basemap coordinates, make a color table and plot&lt;/span&gt;
gmt psbasemap &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$west&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$east&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$south&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$north&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$proj&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$tick&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-X6&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt makecpt &lt;span class=&quot;nt&quot;&gt;-Crelief&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T-7500&lt;/span&gt;/7500/200 &lt;span class=&quot;nt&quot;&gt;-Z&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; topo.cpt
gmt grdimage &lt;span class=&quot;nv&quot;&gt;$topo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ctopo&lt;/span&gt;.cpt &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.25 &lt;span class=&quot;nt&quot;&gt;-Df&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B&lt;/span&gt;+t&lt;span class=&quot;s2&quot;&gt;&quot;South Africa&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Na0&lt;/span&gt;.05 &lt;span class=&quot;nt&quot;&gt;-I1&lt;/span&gt;/0.25p,skyblue3 &lt;span class=&quot;nt&quot;&gt;-I2&lt;/span&gt;/0.25p,skyblue3 &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt psxy &lt;span class=&quot;nv&quot;&gt;$cities&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-St0&lt;/span&gt;.25 &lt;span class=&quot;nt&quot;&gt;-G255&lt;/span&gt;/0/0 &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt psxy &lt;span class=&quot;nv&quot;&gt;$admin&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.05 &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt pstext &lt;span class=&quot;nv&quot;&gt;$cities&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-X0&lt;/span&gt;.25 &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
open &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;And tada, a map with some cities in South-Africa
&lt;img src=&quot;http://localhost:4000/assets/images/maps/south_africa_topo_towns.png&quot; alt=&quot;gmtmap&quot; /&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">I hope this does not come across as a tutorial of some sort, I am mostly writing things down for myself. But I know someone might one day copy and paste this as I’ve done numerous times, but this mostly for me to master GMT. In the previous GMT related post I created this basic map of South-Africa. The map does not however have any cities, provincial boundaries or topography.</summary></entry><entry><title type="html">Automatically push my updated site to Github</title><link href="http://localhost:4000/linux/github/2017/10/29/auto-git-push.html" rel="alternate" type="text/html" title="Automatically push my updated site to Github" /><published>2017-10-29T13:43:28+01:00</published><updated>2017-10-29T13:43:28+01:00</updated><id>http://localhost:4000/linux/github/2017/10/29/auto-git-push</id><content type="html" xml:base="http://localhost:4000/linux/github/2017/10/29/auto-git-push.html">&lt;p&gt;This is a very simple script I made that allows me to edit my website
locally, build it locally and as soon as I am satisfied I can push it to my
Github account. After this is completed it takes a couple of minutes for
the site to be updated. For it to work you have to have a Github account
and also go through the whole process of pulling and pushing, detailed
&lt;a href=&quot;https://help.github.com/articles/github-flow/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;This is a automated git push script for Jekyll, use it at your own risk &quot;&lt;/span&gt;

timeout 15 bundle &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;jekyll serve

git add &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;What do you want to name your commit? [ENTER]: &quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;name

git commit &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$name&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
git push origin master

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Commit Successful!&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</content><author><name></name></author><summary type="html">This is a very simple script I made that allows me to edit my website locally, build it locally and as soon as I am satisfied I can push it to my Github account. After this is completed it takes a couple of minutes for the site to be updated. For it to work you have to have a Github account and also go through the whole process of pulling and pushing, detailed here.</summary></entry><entry><title type="html">Genesis of this site</title><link href="http://localhost:4000/jekyll/blog/2017/10/29/genesis.html" rel="alternate" type="text/html" title="Genesis of this site" /><published>2017-10-29T11:43:29+01:00</published><updated>2017-10-29T11:43:29+01:00</updated><id>http://localhost:4000/jekyll/blog/2017/10/29/genesis</id><content type="html" xml:base="http://localhost:4000/jekyll/blog/2017/10/29/genesis.html">&lt;p&gt;Starting a &lt;em&gt;serious&lt;/em&gt; blog was on my mind for some time before I finally got
around to it. In 2015 as part of a communication class we had to create a
blog where we would write our assignments, no one in the class had any
experience with blogging so we all naturally started the blog on WordPress,
something everyone was sort-of familiar with. It was kind of &lt;em&gt;okay&lt;/em&gt;, no one
actually read the blog outside class and after the semester ended the blog
died a sudden death.&lt;/p&gt;

&lt;p&gt;A year later the urge hit me again to create my own personal online space.
This urge was initiated by observing the effectiveness of one particular
blog. I was also getting deeper into GNU\Linux, modelling and coding,
sometimes solving problems that I could not find solutions for on the web
and I wanted to share all this. I decided to revisit the old blog, which
was not exciting at all. I had a juvenile name for my blog and I was
dreading the web interface. My enthusiasm was however strong and I pushed
forward and revamped the blog. After some initial posts and adding pictures
it was kind of &lt;em&gt;okay&lt;/em&gt;, but I was not happy with it. I however made peace
with it.&lt;/p&gt;

&lt;p&gt;Enter Jekyll. Late 2017 I stumbled upon a Jekyll site, heaven knowns why it
took me so long. I installed the Jekyll and did a &lt;em&gt;Jekyll serve&lt;/em&gt; and there it
was. I was impressed. I started tweaking the default minima theme from my
command line and within a couple of hours I had a decent thing going, but
most importantly I felt in control. As I gained momentum I decided to look
for a real domain (.com/.co.za/.net). My name was not yet taken, it was
pretty cheap and I reckoned that I might as well do it anyway to prevent
someone from buying it and using it as a spam site so I just went for it.&lt;/p&gt;

&lt;p&gt;In order to make this blog actually reflect me and to really accomplish
my goals for starting this blog I decided to make a list here with some
blogging resolutions:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Be consistent, as with all things in life
    &lt;ul&gt;
      &lt;li&gt;More specifically, write regularly.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Share as much things useful as possible.&lt;/li&gt;
  &lt;li&gt;Keep it simple stupid:
    &lt;ul&gt;
      &lt;li&gt;If it feels cluttered, it is.&lt;/li&gt;
      &lt;li&gt;Keep the site static and fast.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;As this blog evolves, it will hopefully become a more
informative and interesting. That’s all for now.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Check out the &lt;a href=&quot;https://jekyllrb.com/docs/home&quot;&gt;Jekyll docs&lt;/a&gt; for more info on how to get the most out of Jekyll. File all bugs/feature requests at &lt;a href=&quot;https://github.com/jekyll/jekyll&quot;&gt;Jekyll’s GitHub repo&lt;/a&gt;. If you have questions, you can ask them on &lt;a href=&quot;https://talk.jekyllrb.com/&quot;&gt;Jekyll Talk&lt;/a&gt;.&lt;/p&gt;</content><author><name></name></author><summary type="html">Starting a serious blog was on my mind for some time before I finally got around to it. In 2015 as part of a communication class we had to create a blog where we would write our assignments, no one in the class had any experience with blogging so we all naturally started the blog on WordPress, something everyone was sort-of familiar with. It was kind of okay, no one actually read the blog outside class and after the semester ended the blog died a sudden death.</summary></entry><entry><title type="html">GMT Part 1: A basic map of South-Africa</title><link href="http://localhost:4000/maps/data/2017/10/19/using-generic-mapping-tools.html" rel="alternate" type="text/html" title="GMT Part 1: A basic map of South-Africa" /><published>2017-10-19T10:00:29+02:00</published><updated>2017-10-19T10:00:29+02:00</updated><id>http://localhost:4000/maps/data/2017/10/19/using-generic-mapping-tools</id><content type="html" xml:base="http://localhost:4000/maps/data/2017/10/19/using-generic-mapping-tools.html">&lt;p&gt;Generic Mapping Tools (GMT) is a relatively unknown command line tool for geo and
spatial analysis. I say unknown because I only know one other person who
actually uses it. Looking for resources online does however indicate that
some universities have courses teaching GMT, no such luck for me, I had to
learn it myself. I’d say the learning curve is quite steep, the only tool I
can compare it with right now is GNUPLOT, another really cool command line
tool for creating high quality graphics.&lt;/p&gt;

&lt;p&gt;To create your map is pretty easy, if you use a bash script it is even
easier in my humble opinion. Let’s start off with a map of South-Africa
directly from the command line:&lt;/p&gt;

&lt;p&gt;First install gmt:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt install gmt&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Now we can make a basic map directly from the command line:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gmt pscoast &lt;span class=&quot;nt&quot;&gt;-R15&lt;/span&gt;/34/-35/-22 &lt;span class=&quot;nt&quot;&gt;-JM20&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ba&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B&lt;/span&gt;+t&lt;span class=&quot;s2&quot;&gt;&quot;South-Africa&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Na&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Df&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-G100&lt;/span&gt;/200/100 &lt;span class=&quot;nt&quot;&gt;-S0&lt;/span&gt;/50/250 &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; south_africa.ps&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Breaking the commands down make the syntax a little more understandable in
bash. Feel free to use whatever editor you like. Lets do:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;vim southafrica.sh&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;in your new .sh script&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# MAKE A MAP!&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Define the names of the input, output and coordinates details: &lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;south_africa.ps           &lt;span class=&quot;c&quot;&gt;# This will be the name of the map&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Lets do the boundaries&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;north&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-22&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;south&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-35&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;east&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;34
&lt;span class=&quot;nv&quot;&gt;west&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;15

&lt;span class=&quot;c&quot;&gt;# Color intensities (RGB) g for ground and s for sea&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;g_red&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100
&lt;span class=&quot;nv&quot;&gt;g_green&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;200
&lt;span class=&quot;nv&quot;&gt;g_blue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100

&lt;span class=&quot;nv&quot;&gt;s_red&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0
&lt;span class=&quot;nv&quot;&gt;s_green&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;50
&lt;span class=&quot;nv&quot;&gt;s_blue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;250

&lt;span class=&quot;c&quot;&gt;# Define the border ticks and projection (mercator)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;tick&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'-B2.5/2.5WSen'&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;proj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'-JM20'&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Lets make a base map by calling GMT  &lt;/span&gt;
gmt psbasemap &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$west&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$east&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$south&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$north&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$proj&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$tick&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-X5&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Lets start drawing some boundaries&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# N = National Borders (Na = National Borders All)&lt;/span&gt;
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.25 &lt;span class=&quot;nt&quot;&gt;-Df&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B&lt;/span&gt;+t&lt;span class=&quot;s2&quot;&gt;&quot;South Africa&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Na&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.05 &lt;span class=&quot;nt&quot;&gt;-G&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$g_red&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$g_green&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$g_blue&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$s_red&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$s_green&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$s_blue&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;You should see this basic map of South-Africa:&lt;br /&gt;
&lt;img src=&quot;http://localhost:4000/assets/images/maps/south_africa.png&quot; alt=&quot;gmtmap&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;sub&gt;Note that I converted is from postscript format to reduce size. &lt;/sub&gt;&lt;/p&gt;

&lt;p&gt;This breaks down the commands and when you need to you can just edit the
script as you need to. Obviously this is the most basic of maps. I’ll try
and get some more advanced maps as this blog evolves.&lt;/p&gt;</content><author><name></name></author><summary type="html">Generic Mapping Tools (GMT) is a relatively unknown command line tool for geo and spatial analysis. I say unknown because I only know one other person who actually uses it. Looking for resources online does however indicate that some universities have courses teaching GMT, no such luck for me, I had to learn it myself. I’d say the learning curve is quite steep, the only tool I can compare it with right now is GNUPLOT, another really cool command line tool for creating high quality graphics.</summary></entry><entry><title type="html">Getting WRF to work with ERA-Interim data</title><link href="http://localhost:4000/wrf/era-interim/climate/2017/09/20/wrf-and-era.html" rel="alternate" type="text/html" title="Getting WRF to work with ERA-Interim data" /><published>2017-09-20T12:43:29+02:00</published><updated>2017-09-20T12:43:29+02:00</updated><id>http://localhost:4000/wrf/era-interim/climate/2017/09/20/wrf-and-era</id><content type="html" xml:base="http://localhost:4000/wrf/era-interim/climate/2017/09/20/wrf-and-era.html">&lt;p&gt;I actually started a blog as part of another class, but lets pretend
that never happened and mark this as the official start.&lt;/p&gt;

&lt;p&gt;I’m slowly going to start putting myself out there, I’m trying
not to be a hypocrite – I preach open-source but I keep myself closed.&lt;/p&gt;

&lt;p&gt;I’m in the process of running WRF. It’s not been without challenges though,
when running WRF locally compiling can be a major time consumer, you have
to know some GNU/Linux basics, which is actually pretty cool. Okay, I’m all
over the place, but let me write about my current problem and as the blog
evolves hopefully I can get more ordered.&lt;/p&gt;

&lt;p&gt;I’m currently running WRF on a convective scale over the South-Africa
Highveld, the area is also home to Jo’burg and Pretoria, two of
South-Africa major cities, I’m doing this to try to understand hailstorms
better. WRF has various input datasets that can be used to initialize the
model, I’m specifically using ERA-Interim data, but the ERA data requires
some extra steps, I’m not going to try and give an in-depth explanation of
all the steps, but instead I’m just doing them here in the order that was
successful eventually. I also assume that you’ve already complied WRF
successfully and was to lazy to RTFM (like me) and used Google (like me).&lt;/p&gt;

&lt;p&gt;Last thing, I use vim, but replace that with whatever you want, on a remote
machine nano and vi are good alternatives, Emacs is pretty cool (I’m super
slowly learning that) but I don’t know about its availability on all remote
computers.&lt;/p&gt;

&lt;p&gt;First get the data ready in WPS:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;wps/
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./geogrid.exe
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;ln &lt;span class=&quot;nt&quot;&gt;-sf&lt;/span&gt; ungrib/Variable_Tables/Vtable.ERA-interim.ml Vtable
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./link_grib.csh ~/ei.oper.an.ml/201311/ei.oper.an.ml.regn128&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; ~/ei.oper.an.sfc/201311/ei.oper.an.sfc.regn128.sc.201311&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./ungrib.exe&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Create ecmwf_coeffs file:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;touch ecmwf_coeffs &lt;span class=&quot;c&quot;&gt;#NOTE: Google for the ecmwf_coeffs contents, its just a table.&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./util/calc_ecmwf_p.exe&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Look for PRES:2013-11-*&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;vim namelist.wps
&amp;amp;metgrid
  fg_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; ‘FILE’ ‘PRES’
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./metgrid.exe&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Look for met_em.d0*&lt;/p&gt;

&lt;p&gt;If this worked you will now go back and change directory to WRF:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ../WRFV7/test/em_real/
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;ln &lt;span class=&quot;nt&quot;&gt;-sf&lt;/span&gt; ../../../WPS3.7/met_em.d0&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./real.exe&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Look for wrfbdy_d01, wrfinput_do1, wrfinput_d02, …&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./wrf.exe&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Look for wrfout_do1_2013* until complete for the run time series&lt;/p&gt;

&lt;p&gt;Again, Google around for ecmwf_coeffs table I’m assuming you check,
double-check and triple check your namelist.wps and namelist.input. If
using more than two domains, check fourth time, its easy to miss something
when looking at to long.&lt;/p&gt;</content><author><name></name></author><summary type="html">I actually started a blog as part of another class, but lets pretend that never happened and mark this as the official start.</summary></entry></feed>