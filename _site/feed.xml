<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.6.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2018-05-14T19:03:36+02:00</updated><id>http://localhost:4000/</id><title type="html">Howzit, I’m Henno</title><subtitle>Geo and spatial science graduate student, Debian GNU\Linux user, open-source advocate, runner and dog lover.  I'm navigating this strange new world of programming, blogging and sharing. Bare with me. 
</subtitle><entry><title type="html">My msc in a nutshell</title><link href="http://localhost:4000/thesis/weather/2018/05/14/msc-in-a-poster.html" rel="alternate" type="text/html" title="My msc in a nutshell" /><published>2018-05-14T12:43:29+02:00</published><updated>2018-05-14T12:43:29+02:00</updated><id>http://localhost:4000/thesis/weather/2018/05/14/msc-in-a-poster</id><content type="html" xml:base="http://localhost:4000/thesis/weather/2018/05/14/msc-in-a-poster.html">&lt;p&gt;I recently finished my masters dissertation on hailstorms over South-Africa and
decided to make a poster summary of my work. I mostly wanted to make a cool map
and decided to do this for fun.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/maps/hail_poster.png&quot; alt=&quot;hail_poster&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The script is quite long and I used it for some work in my thesis
before I really figured out loops, so it could be simplified a lot, 
I’m to lazy to do that now. So here you go:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#####################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# This is to make a synotpic map                   #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# http://gmt.soest.hawaii.edu/boards/1/topics/5997 #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#####################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#####################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;## Step 1: Download the ERA-DATA with this script   #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#####################################################&lt;/span&gt;

python &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;
from ecmwfapi import ECMWFDataServer
server = ECMWFDataServer()
server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2013-11-28/to/2013-11-28&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levtype&quot;: &quot;sfc&quot;,
    &quot;param&quot;: &quot;151.128&quot;,
    &quot;step&quot;: &quot;0&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;12:00:00&quot;,
    &quot;type&quot;: &quot;an&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;msl.nc&quot;,
})

server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2013-11-28/to/2013-11-28&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levtype&quot;: &quot;sfc&quot;,
    &quot;param&quot;: &quot;59.128&quot;,
    &quot;step&quot;: &quot;12&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;00:00:00&quot;,
    &quot;type&quot;: &quot;fc&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;cape.nc&quot;,
})

server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2013-11-28/to/2013-11-28&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levelist&quot;: &quot;500&quot;,
    &quot;levtype&quot;: &quot;pl&quot;,
    &quot;param&quot;: &quot;129.128&quot;,
    &quot;step&quot;: &quot;0&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;12:00:00&quot;,
    &quot;type&quot;: &quot;an&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;zg500.nc&quot;,
})

server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2013-11-11/to/2013-11-11&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levtype&quot;: &quot;sfc&quot;,
    &quot;param&quot;: &quot;151.128&quot;,
    &quot;step&quot;: &quot;0&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;12:00:00&quot;,
    &quot;type&quot;: &quot;an&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;msl2.nc&quot;,
})

server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2013-11-11/to/2013-11-11&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levtype&quot;: &quot;sfc&quot;,
    &quot;param&quot;: &quot;59.128&quot;,
    &quot;step&quot;: &quot;12&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;00:00:00&quot;,
    &quot;type&quot;: &quot;fc&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;cape2.nc&quot;,
})

server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2013-11-11/to/2013-11-11&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levelist&quot;: &quot;500&quot;,
    &quot;levtype&quot;: &quot;pl&quot;,
    &quot;param&quot;: &quot;129.128&quot;,
    &quot;step&quot;: &quot;0&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;12:00:00&quot;,
    &quot;type&quot;: &quot;an&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;zg5002.nc&quot;,
})

server = ECMWFDataServer()
server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2012-11-09/to/2012-11-09&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levtype&quot;: &quot;sfc&quot;,
    &quot;param&quot;: &quot;151.128&quot;,
    &quot;step&quot;: &quot;0&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;12:00:00&quot;,
    &quot;type&quot;: &quot;an&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;msl3.nc&quot;,
})

server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2012-11-09/to/2012-11-09&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levtype&quot;: &quot;sfc&quot;,
    &quot;param&quot;: &quot;59.128&quot;,
    &quot;step&quot;: &quot;12&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;00:00:00&quot;,
    &quot;type&quot;: &quot;fc&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;cape3.nc&quot;,
})

server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2012-11-09/to/2012-11-09&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levelist&quot;: &quot;500&quot;,
    &quot;levtype&quot;: &quot;pl&quot;,
    &quot;param&quot;: &quot;129.128&quot;,
    &quot;step&quot;: &quot;0&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;12:00:00&quot;,
    &quot;type&quot;: &quot;an&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;zg5003.nc&quot;,
})

server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2012-11-08/to/2012-11-08&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levtype&quot;: &quot;sfc&quot;,
    &quot;param&quot;: &quot;151.128&quot;,
    &quot;step&quot;: &quot;0&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;12:00:00&quot;,
    &quot;type&quot;: &quot;an&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;msl4.nc&quot;,
})

server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2012-11-08/to/2012-11-08&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levtype&quot;: &quot;sfc&quot;,
    &quot;param&quot;: &quot;59.128&quot;,
    &quot;step&quot;: &quot;12&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;00:00:00&quot;,
    &quot;type&quot;: &quot;fc&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;cape4.nc&quot;,
})

server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2012-11-08/to/2012-11-08&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levelist&quot;: &quot;500&quot;,
    &quot;levtype&quot;: &quot;pl&quot;,
    &quot;param&quot;: &quot;129.128&quot;,
    &quot;step&quot;: &quot;0&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;12:00:00&quot;,
    &quot;type&quot;: &quot;an&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;zg5004.nc&quot;,
})

server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2011-10-19/to/2011-10-19&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levtype&quot;: &quot;sfc&quot;,
    &quot;param&quot;: &quot;151.128&quot;,
    &quot;step&quot;: &quot;0&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;12:00:00&quot;,
    &quot;type&quot;: &quot;an&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;msl5.nc&quot;,
})

server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2011-10-19/to/2011-10-19&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levtype&quot;: &quot;sfc&quot;,
    &quot;param&quot;: &quot;59.128&quot;,
    &quot;step&quot;: &quot;12&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;00:00:00&quot;,
    &quot;type&quot;: &quot;fc&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;cape5.nc&quot;,
})

server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2011-10-19/to/2011-10-19&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levelist&quot;: &quot;500&quot;,
    &quot;levtype&quot;: &quot;pl&quot;,
    &quot;param&quot;: &quot;129.128&quot;,
    &quot;step&quot;: &quot;0&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;12:00:00&quot;,
    &quot;type&quot;: &quot;an&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;zg5005.nc&quot;,
})
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;
EOF

&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ERA-Data downloaded. Press enter to continue and convert data for use in GMT &quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#############################################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#  The file is not compatible with GMT, to get it to work do where ?msl     #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#  selects the variable we want and writes it to mslp.nc. The '' is         #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#  important otherwise bash looks for a wildcard.                           #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#  The date units are also wrong to correct them we need to use gmt grdmath #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#############################################################################&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#########################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#                MSLP                   #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#########################################&lt;/span&gt;
gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'msl.nc?msl'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gmslp_org&lt;/span&gt;.nc
gmt grdedit mslp_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;
gmt grdmath mslp_org.nc 100 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; mslp_nrm.nc

gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'msl2.nc?msl'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gmslp2_org&lt;/span&gt;.nc
gmt grdedit mslp2_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;
gmt grdmath mslp2_org.nc 100 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; mslp2_nrm.nc

gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'msl3.nc?msl'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gmslp3_org&lt;/span&gt;.nc
gmt grdedit mslp3_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;
gmt grdmath mslp3_org.nc 100 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; mslp3_nrm.nc

gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'msl4.nc?msl'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gmslp4_org&lt;/span&gt;.nc
gmt grdedit mslp4_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;
gmt grdmath mslp4_org.nc 100 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; mslp4_nrm.nc

gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'msl5.nc?msl'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gmslp5_org&lt;/span&gt;.nc
gmt grdedit mslp5_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;
gmt grdmath mslp5_org.nc 100 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; mslp5_nrm.nc

gmt grdmath mslp_nrm.nc mslp2_nrm.nc ADD mslp3_nrm.nc ADD mslp4_nrm.nc ADD mslp4_nrm.nc ADD 5 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; mslp_mean.nc

&lt;span class=&quot;c&quot;&gt;#########################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#                CAPE                   #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#########################################&lt;/span&gt;
gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'cape.nc?cape'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gcape_org&lt;/span&gt;.nc
gmt grdedit cape_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;

gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'cape2.nc?cape'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gcape2_org&lt;/span&gt;.nc
gmt grdedit cape2_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;

gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'cape3.nc?cape'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gcape3_org&lt;/span&gt;.nc
gmt grdedit cape3_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;

gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'cape4.nc?cape'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gcape4_org&lt;/span&gt;.nc
gmt grdedit cape4_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;

gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'cape5.nc?cape'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gcape5_org&lt;/span&gt;.nc
gmt grdedit cape5_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;

gmt grdmath cape_org.nc cape2_org.nc ADD cape3_org.nc ADD cape4_org.nc ADD cape5_org.nc ADD 5 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; cape_mean.nc

&lt;span class=&quot;c&quot;&gt;# Make NaN values after grdmath otherwise NaN will&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# result in wrong values&lt;/span&gt;
gmt grdclip cape_mean.nc &lt;span class=&quot;nt&quot;&gt;-Sb250&lt;/span&gt;/NaN &lt;span class=&quot;nt&quot;&gt;-Sa2500&lt;/span&gt;/2500 &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gcape_mean&lt;/span&gt;.nc 
gmt grdclip cape5_org.nc &lt;span class=&quot;nt&quot;&gt;-Sb250&lt;/span&gt;/NaN &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gcape5_org&lt;/span&gt;.nc 
gmt grdclip cape4_org.nc &lt;span class=&quot;nt&quot;&gt;-Sb250&lt;/span&gt;/NaN &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gcape4_org&lt;/span&gt;.nc 
gmt grdclip cape3_org.nc &lt;span class=&quot;nt&quot;&gt;-Sb250&lt;/span&gt;/NaN &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gcape3_org&lt;/span&gt;.nc 
gmt grdclip cape2_org.nc &lt;span class=&quot;nt&quot;&gt;-Sb250&lt;/span&gt;/NaN &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gcape2_org&lt;/span&gt;.nc 
gmt grdclip cape_org.nc  &lt;span class=&quot;nt&quot;&gt;-Sb250&lt;/span&gt;/NaN &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gcape_org&lt;/span&gt;.nc 

&lt;span class=&quot;c&quot;&gt;##########################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#           Geopotentail 500             #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;##########################################&lt;/span&gt;
gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'zg500.nc?z'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gzg500_org&lt;/span&gt;.nc
gmt grdedit zg500_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;
gmt grdmath zg500_org.nc 10 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; zg500_nrm.nc

gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'zg5002.nc?z'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gzg5002_org&lt;/span&gt;.nc
gmt grdedit zg5002_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;
gmt grdmath zg5002_org.nc 10 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; zg5002_nrm.nc

gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'zg5003.nc?z'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gzg5003_org&lt;/span&gt;.nc
gmt grdedit zg5003_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;
gmt grdmath zg5003_org.nc 10 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; zg5003_nrm.nc

gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'zg5004.nc?z'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gzg5004_org&lt;/span&gt;.nc
gmt grdedit zg5004_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;
gmt grdmath zg5004_org.nc 10 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; zg5004_nrm.nc

gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'zg5005.nc?z'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gzg5005_org&lt;/span&gt;.nc
gmt grdedit zg5005_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;
gmt grdmath zg5005_org.nc 10 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; zg5005_nrm.nc

gmt grdmath zg500_nrm.nc zg5002_nrm.nc ADD zg5003_nrm.nc ADD zg5004_nrm.nc ADD zg5005_nrm.nc ADD 5 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; zg500_mean.nc

&lt;span class=&quot;c&quot;&gt;###########################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#               Inspect Mean              #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;###########################################&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Lets inspect the data with ncdump. Press enter to continue &quot;&lt;/span&gt;
ncdump &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; mslp_mean.nc
ncdump &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; zg500_mean.nc
ncdump &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; cape_mean.nc

&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Lets inspect the data with grdinfo. Press enter to continue &quot;&lt;/span&gt;
gmt grdinfo mslp_mean.nc
gmt grdinfo zg500_mean.nc
gmt grdinfo cape_mean.nc

&lt;span class=&quot;c&quot;&gt;####################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Here we create a very basic map to view our data #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;####################################################&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Lets create a world map. Press enter to continue &quot;&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'MSLP map '&lt;/span&gt;
gmt grdimage mslp_mean.nc &lt;span class=&quot;nt&quot;&gt;-JX25&lt;/span&gt;/0d &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; mslp.ps
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-Rmslp_mean&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-JX&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.5 &lt;span class=&quot;nt&quot;&gt;-N3&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; mslp.ps

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'CAPE map '&lt;/span&gt;
gmt grdimage cape_mean.nc &lt;span class=&quot;nt&quot;&gt;-JX25&lt;/span&gt;/0d &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; cape.ps
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-Rcape_mean&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-JX&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.5 &lt;span class=&quot;nt&quot;&gt;-N3&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; cape.ps

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Geopotential map '&lt;/span&gt;
gmt grdimage zg500_mean.nc &lt;span class=&quot;nt&quot;&gt;-JX25&lt;/span&gt;/0d &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; zg500.ps
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-Rzg500_mean&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-JX&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.5 &lt;span class=&quot;nt&quot;&gt;-N3&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; zg500.ps

&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;World map created. Lets create a map of South-Africa. Press enter to continue &quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;####################################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#Now we need to create a contoured map from the netcdf file for SA #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;####################################################################&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'hail_composite_globe.ps'&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;topo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;./ETOPO1_Ice_g_gmt4.grd

&lt;span class=&quot;c&quot;&gt;#Coordinates (actually lower left and upper right not E S W N) &lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;east&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-20&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;south&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-46&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;west&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;60
&lt;span class=&quot;nv&quot;&gt;north&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-12r&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#Projection (Lambert Azimuthal Equal-Area)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;25.5

gmt psbasemap  &lt;span class=&quot;nt&quot;&gt;-Rg&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JG25&lt;/span&gt;/-20/40 &lt;span class=&quot;nt&quot;&gt;-X3&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Y3&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Bag&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--PS_MEDIA&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;50.94cx80.41c &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt makecpt    &lt;span class=&quot;nt&quot;&gt;-Crainbow&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T200&lt;/span&gt;/2550/100 &lt;span class=&quot;nt&quot;&gt;-Z&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; cape.cpt
gmt psscale    &lt;span class=&quot;nt&quot;&gt;-Ccape&lt;/span&gt;.cpt &lt;span class=&quot;nt&quot;&gt;-D6&lt;/span&gt;.5c/0.5c+w12c/0.5c+jTC+h &lt;span class=&quot;nt&quot;&gt;-Bxaf&lt;/span&gt;+l&lt;span class=&quot;s2&quot;&gt;&quot;CAPE J/Kg&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt makecpt    &lt;span class=&quot;nt&quot;&gt;-Cglobe&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T-10000&lt;/span&gt;/10000/100 &lt;span class=&quot;nt&quot;&gt;-Z&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; topo.cpt
gmt grdimage    &lt;span class=&quot;nv&quot;&gt;$topo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ctopo&lt;/span&gt;.cpt &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt pscoast    &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Na&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-I1&lt;/span&gt;/0.25p,skyblue3 &lt;span class=&quot;nt&quot;&gt;-I2&lt;/span&gt;/0.25p,skyblue3 &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdimage    cape_mean.nc &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ccape&lt;/span&gt;.cpt &lt;span class=&quot;nt&quot;&gt;-Q&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt; 
gmt pscoast    &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-N1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Lx7&lt;/span&gt;.5/-2+c-26.5+w4500k+f &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;,-- mslp_mean.nc &lt;span class=&quot;nt&quot;&gt;-S4&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-C2&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A2&lt;/span&gt;+f12 &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt;+lLH &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-W1&lt;/span&gt;.7 zg500_mean.nc &lt;span class=&quot;nt&quot;&gt;-A100&lt;/span&gt;+f18 &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-C100&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-P&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gn1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt psxy       ZAF_adm1.gmt &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.05 &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Start plotting the individual days&lt;/span&gt;
gmt psbasemap  &lt;span class=&quot;nt&quot;&gt;-R15&lt;/span&gt;/34/-36/-21 &lt;span class=&quot;nt&quot;&gt;-JM10&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Bn&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-X42&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Y0&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdimage    &lt;span class=&quot;nv&quot;&gt;$topo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JM&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ctopo&lt;/span&gt;.cpt &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt pscoast    &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JM&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Na&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-I1&lt;/span&gt;/0.25p,skyblue3 &lt;span class=&quot;nt&quot;&gt;-I2&lt;/span&gt;/0.25p,skyblue3 &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdimage   cape5_org.nc &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ccape&lt;/span&gt;.cpt &lt;span class=&quot;nt&quot;&gt;-Q&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt; 
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;,-- mslp5_nrm.nc &lt;span class=&quot;nt&quot;&gt;-S4&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-C2&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A2&lt;/span&gt;+f12 &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt;+lLH &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-W1&lt;/span&gt;.7 zg5005_nrm.nc &lt;span class=&quot;nt&quot;&gt;-A150&lt;/span&gt;+f16 &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-C150&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-P&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gn1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt psxy       ZAF_adm1.gmt &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.05 &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;34 -34 19/10/2011&quot;&lt;/span&gt; | gmt pstext &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JM&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt;+jTR+f16 &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gwhite&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W1p&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dj0&lt;/span&gt;.1 &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;

gmt psbasemap  &lt;span class=&quot;nt&quot;&gt;-R15&lt;/span&gt;/34/-36/-21 &lt;span class=&quot;nt&quot;&gt;-JM10&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Bn&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Y10&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdimage    &lt;span class=&quot;nv&quot;&gt;$topo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JM&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ctopo&lt;/span&gt;.cpt &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt pscoast    &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JM&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Na&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-I1&lt;/span&gt;/0.25p,skyblue3 &lt;span class=&quot;nt&quot;&gt;-I2&lt;/span&gt;/0.25p,skyblue3 &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdimage   cape4_org.nc &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ccape&lt;/span&gt;.cpt &lt;span class=&quot;nt&quot;&gt;-Q&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt; 
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt; mslp4_nrm.nc &lt;span class=&quot;nt&quot;&gt;-S4&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-C2&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A2&lt;/span&gt;+f12 &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt;+lLH &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-W1&lt;/span&gt;.7 zg5004_nrm.nc &lt;span class=&quot;nt&quot;&gt;-A150&lt;/span&gt;+f16 &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-C150&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-P&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gn1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt psxy       ZAF_adm1.gmt &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.05 &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;34 -34 08/11/2012&quot;&lt;/span&gt; | gmt pstext &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JM&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt;+jTR+f16 &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gwhite&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W1p&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dj0&lt;/span&gt;.1 &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;

gmt psbasemap  &lt;span class=&quot;nt&quot;&gt;-R15&lt;/span&gt;/34/-36/-21 &lt;span class=&quot;nt&quot;&gt;-JM10&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Bn&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-X11&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Y0&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdimage    &lt;span class=&quot;nv&quot;&gt;$topo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JM&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ctopo&lt;/span&gt;.cpt &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt pscoast    &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JM&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Na&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-I1&lt;/span&gt;/0.25p,skyblue3 &lt;span class=&quot;nt&quot;&gt;-I2&lt;/span&gt;/0.25p,skyblue3 &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdimage   cape3_org.nc &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ccape&lt;/span&gt;.cpt &lt;span class=&quot;nt&quot;&gt;-Q&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt; 
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt; mslp3_nrm.nc &lt;span class=&quot;nt&quot;&gt;-S4&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-C2&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A2&lt;/span&gt;+f12 &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt;+lLH &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-W1&lt;/span&gt;.7 zg5003_nrm.nc &lt;span class=&quot;nt&quot;&gt;-A150&lt;/span&gt;+f16 &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-C150&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-P&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gn1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt psxy       ZAF_adm1.gmt &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.05 &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;34 -34 09/11/2012&quot;&lt;/span&gt; | gmt pstext &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JM&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt;+jTR+f16 &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gwhite&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W1p&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dj0&lt;/span&gt;.1 &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;

gmt psbasemap  &lt;span class=&quot;nt&quot;&gt;-R15&lt;/span&gt;/34/-36/-21 &lt;span class=&quot;nt&quot;&gt;-JM10&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Bn&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-X-11&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Y10&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdimage    &lt;span class=&quot;nv&quot;&gt;$topo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JM&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ctopo&lt;/span&gt;.cpt &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt pscoast    &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JM&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Na&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-I1&lt;/span&gt;/0.25p,skyblue3 &lt;span class=&quot;nt&quot;&gt;-I2&lt;/span&gt;/0.25p,skyblue3 &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdimage   cape2_org.nc &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ccape&lt;/span&gt;.cpt &lt;span class=&quot;nt&quot;&gt;-Q&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt; 
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt; mslp2_nrm.nc &lt;span class=&quot;nt&quot;&gt;-S4&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-C2&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A2&lt;/span&gt;+f12 &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt;+lLH &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-W1&lt;/span&gt;.7 zg5002_nrm.nc &lt;span class=&quot;nt&quot;&gt;-A150&lt;/span&gt;+f16 &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-C150&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-P&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gn1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt psxy       ZAF_adm1.gmt &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.05 &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;34 -34 11/11/2013&quot;&lt;/span&gt; | gmt pstext &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JM&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt;+jTR+f16 &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gwhite&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W1p&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dj0&lt;/span&gt;.1 &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;

gmt psbasemap  &lt;span class=&quot;nt&quot;&gt;-R15&lt;/span&gt;/34/-36/-21 &lt;span class=&quot;nt&quot;&gt;-JM10&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Bn&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-X11&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Y0&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdimage    &lt;span class=&quot;nv&quot;&gt;$topo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JM&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ctopo&lt;/span&gt;.cpt &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt pscoast    &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JM&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Na&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-I1&lt;/span&gt;/0.25p,skyblue3 &lt;span class=&quot;nt&quot;&gt;-I2&lt;/span&gt;/0.25p,skyblue3 &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdimage   cape_org.nc &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ccape&lt;/span&gt;.cpt &lt;span class=&quot;nt&quot;&gt;-Q&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt; 
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt; mslp_nrm.nc &lt;span class=&quot;nt&quot;&gt;-S4&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-C2&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A2&lt;/span&gt;+f12 &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt;+lLH &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-W1&lt;/span&gt;.7 zg500_nrm.nc &lt;span class=&quot;nt&quot;&gt;-A150&lt;/span&gt;+f16 &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-C150&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-P&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gn1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt psxy       ZAF_adm1.gmt &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.05 &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;34 -34 28/11/2013&quot;&lt;/span&gt; | gmt pstext &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JM&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt;+jTR+f16 &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gwhite&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W1p&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dj0&lt;/span&gt;.1 &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;

gmt logo &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-DjTR&lt;/span&gt;+o-0/10+w10 &lt;span class=&quot;nt&quot;&gt;-Y-11&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</content><author><name></name></author><summary type="html">I recently finished my masters dissertation on hailstorms over South-Africa and decided to make a poster summary of my work. I mostly wanted to make a cool map and decided to do this for fun.</summary></entry><entry><title type="html">Retriving point values from GFS data</title><link href="http://localhost:4000/visualizations/gfs/weather/2018/04/14/getting-point-data-from-gfs.html" rel="alternate" type="text/html" title="Retriving point values from GFS data" /><published>2018-04-14T12:43:29+02:00</published><updated>2018-04-14T12:43:29+02:00</updated><id>http://localhost:4000/visualizations/gfs/weather/2018/04/14/getting-point-data-from-gfs</id><content type="html" xml:base="http://localhost:4000/visualizations/gfs/weather/2018/04/14/getting-point-data-from-gfs.html">&lt;p&gt;I guess I can safely say most of time is dedicated to making our &lt;a href=&quot;http://www.lekwenaradar.co.za&quot;&gt;radar
website&lt;/a&gt; cooler. I’m pretty lucky. So we
currently have three things on the website, the radar (obviously), and then two
&lt;a href=&quot;http://www.lekwenaradar.co.za/forecast.html&quot;&gt;GFS visualizations&lt;/a&gt;. The first is
a synoptic scale map of the circulation around South-Africa, mainly mimicking
the &lt;a href=&quot;http://www.weathersa.co.za/observations/synoptic-charts&quot;&gt;South-African Weather Service (SAWS) Synoptic
Map&lt;/a&gt;, but the SAWS is
not as lazy as me so my maps are drawn by a computer and not by hand. The
second product, and I’m fond of this, is the general circulation of the
Southern-Hemisphere. These maps were inspired by the work of &lt;a href=&quot;https://scholar.google.com/scholar?hl=en&amp;amp;as_sdt=0%2C5&amp;amp;q=harry+von+loon&amp;amp;oq=harry+von+loon&quot;&gt;Harry von
Loon&lt;/a&gt;
and &lt;a href=&quot;https://scholar.google.com/scholar?hl=en&amp;amp;as_sdt=0%2C5&amp;amp;q=jj+taljaardt+synoptic&amp;amp;btnG=&quot;&gt;JJ
Taljaard&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Now, here comes the actual reason I’m writing this. The third map that’s
currently in experimental phase is a provincial scale map. I wanted to achieve
two things; (1) allow people to more clearly what’s happing in their little
part of the word, this is not really clear on the synoptic map, and (2) give
people values they can understand more accurately and not rely on interpreting
a scale, by value I mean a number. The map themselves are made with the same
script as the other maps, well more or less the same, and you can read on that
&lt;a href=&quot;https://www.hennohavenga.com/weather/bash/gmt/2018/01/28/forecasting-weather-with-bash-and-other-linux-tools.html&quot;&gt;here&lt;/a&gt;.
This post details how to get a value of a Lat/Lon point from GFS data, and in this case minimum and maximum temperature.&lt;/p&gt;

&lt;p&gt;First we need to grap the GFS data, this pretty simple with wget. I assumed two
things here, rightly or wrongly so, (1) that 0600 gfs product will be an
accurate reflection of the day’s minimum temperature and (2) that 1200 will be
an accurate reflection of the day’s maximum temperature. My notes in the script
should make it obvious what’s being done at each stage, but the most important
is to convert the data to netcdf and then make the values human friendly
(Kelvin -&amp;gt; Celsius). I use the Apparent Temperature at 1200 as the map background.
We’re not trying to make an animation here instead just a one day static map that’s
updated every morning.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;today&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date +&lt;span class=&quot;s2&quot;&gt;&quot;%Y%m%d00&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;gfs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://www.ftp.ncep.noaa.gov/data/nccf/com/gfs/prod/gfs
&lt;span class=&quot;nv&quot;&gt;forecast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;06 12&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Loop through the specified forecast times wanted and grab GFS data&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;forecast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;do 
    &lt;/span&gt;wget &lt;span class=&quot;nv&quot;&gt;$gfs&lt;/span&gt;.&lt;span class=&quot;nv&quot;&gt;$today&lt;/span&gt;/gfs.t00z.pgrb2.0p25.f0&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# For archive purposes we clip the data to South-Africa with cdo&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# and convert GFS files to workable netcdf files&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;forecast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;  
&lt;span class=&quot;k&quot;&gt;do 
    &lt;/span&gt;cdo &lt;span class=&quot;nt&quot;&gt;-sellonlatbox&lt;/span&gt;,-180,180,-95,0 gfs.t00z.pgrb2.0p25.f0&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; gfs.&lt;span class=&quot;nv&quot;&gt;$today&lt;/span&gt;.&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; 
    cdo &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; nc copy gfs.&lt;span class=&quot;nv&quot;&gt;$today&lt;/span&gt;.&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; ncfile&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc 
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# To plot the files in GMT we need to get the variables from the newly &lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# created netcdf files by extracting only the variable we want.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;forecast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;do
    &lt;/span&gt;gmt grdconvert ncfile&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc&lt;span class=&quot;se&quot;&gt;\?&lt;/span&gt;aptmp &lt;span class=&quot;nt&quot;&gt;-Gaptmp&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc
    gmt grdconvert ncfile&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc&lt;span class=&quot;se&quot;&gt;\?&lt;/span&gt;tmax  &lt;span class=&quot;nt&quot;&gt;-Gtmax&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc
    gmt grdconvert ncfile&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc&lt;span class=&quot;se&quot;&gt;\?&lt;/span&gt;tmin  &lt;span class=&quot;nt&quot;&gt;-Gtmin&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Do some math&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# We convert Kelvin to Celsius&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;forecast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;do
    &lt;/span&gt;gmt grdmath aptmp&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc 273.15 SUB &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; aptmp&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc
    gmt grdmath tmax&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc 273.15 SUB &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; tmax&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc
    gmt grdmath tmin&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc 273.15 SUB &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; tmin&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc
&lt;span class=&quot;k&quot;&gt;done

&lt;/span&gt;rm gfs&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; ncfile&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; tmin12.nc tmax06.nc aptmp06.nc&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This gives us three values; tmin06.nc tmax12.nc and aptmp12.nc (the aptmp just
serves as the background map, so no need to care too much). To get the values is
the next part. Here we use &lt;strong&gt;Climate Data Operators (CDO)&lt;/strong&gt; &lt;strong&gt;outputtab&lt;/strong&gt; function to
get a value on, or very close the specified Lat/Lon point. The value also had to be
easily plotted on a map using GMT’s pstext function, this means I had to hack bash’s
echo function. Here is the script.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Get Temprature values for the following towns in North-West&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;nw&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;nwtmp.dat
&lt;span class=&quot;nv&quot;&gt;potchefstroom&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;27.09_lat&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-26&lt;/span&gt;.71&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 
&lt;span class=&quot;nv&quot;&gt;rustenburg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;27.25_lat&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-25&lt;/span&gt;.65&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;mafikeng&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;25.65_lat&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-25&lt;/span&gt;.85&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;lichtenburg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;26.10_lat&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-26&lt;/span&gt;.17&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;zeerust&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;26.10_lat&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-25&lt;/span&gt;.55&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;suncity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;27.09_lat&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-25&lt;/span&gt;.34&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;## Get temperature using CDO &lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;27.09 -26.71 12 0 1 LM Potchefstroom&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cdo outputtab,value,nohead &lt;span class=&quot;nt&quot;&gt;-remapnn&lt;/span&gt;,&lt;span class=&quot;nv&quot;&gt;$potchefstroom&lt;/span&gt; tmin06.nc&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cdo outputtab,value,nohead &lt;span class=&quot;nt&quot;&gt;-remapnn&lt;/span&gt;,&lt;span class=&quot;nv&quot;&gt;$potchefstroom&lt;/span&gt; tmax12.nc&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt; 
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;27.25 -25.65 12 0 1 LM Rustenburg&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cdo outputtab,value,nohead &lt;span class=&quot;nt&quot;&gt;-remapnn&lt;/span&gt;,&lt;span class=&quot;nv&quot;&gt;$rustenburg&lt;/span&gt; tmin06.nc&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cdo outputtab,value,nohead &lt;span class=&quot;nt&quot;&gt;-remapnn&lt;/span&gt;,&lt;span class=&quot;nv&quot;&gt;$rustenburg&lt;/span&gt; tmax12.nc&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt; 
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;25.65 -25.85 12 0 1 LM Mafikeng&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cdo outputtab,value,nohead &lt;span class=&quot;nt&quot;&gt;-remapnn&lt;/span&gt;,&lt;span class=&quot;nv&quot;&gt;$mafikeng&lt;/span&gt; tmin06.nc&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cdo outputtab,value,nohead &lt;span class=&quot;nt&quot;&gt;-remapnn&lt;/span&gt;,&lt;span class=&quot;nv&quot;&gt;$mafikeng&lt;/span&gt; tmax12.nc&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt; 
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;26.10 -26.17 12 0 1 LM Lichtenburg&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cdo outputtab,value,nohead &lt;span class=&quot;nt&quot;&gt;-remapnn&lt;/span&gt;,&lt;span class=&quot;nv&quot;&gt;$lichtenburg&lt;/span&gt; tmin06.nc&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cdo outputtab,value,nohead &lt;span class=&quot;nt&quot;&gt;-remapnn&lt;/span&gt;,&lt;span class=&quot;nv&quot;&gt;$lichtenburg&lt;/span&gt; tmax12.nc&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt; 
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;26.10 -25.55 12 0 1 LM Zeerust&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cdo outputtab,value,nohead &lt;span class=&quot;nt&quot;&gt;-remapnn&lt;/span&gt;,&lt;span class=&quot;nv&quot;&gt;$zeerust&lt;/span&gt; tmin06.nc&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cdo outputtab,value,nohead &lt;span class=&quot;nt&quot;&gt;-remapnn&lt;/span&gt;,&lt;span class=&quot;nv&quot;&gt;$zeerust&lt;/span&gt; tmax12.nc&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt; 
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;27.09 -25.34 12 0 1 LM Sun-City&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cdo outputtab,value,nohead &lt;span class=&quot;nt&quot;&gt;-remapnn&lt;/span&gt;,&lt;span class=&quot;nv&quot;&gt;$suncity&lt;/span&gt; tmin06.nc&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cdo outputtab,value,nohead &lt;span class=&quot;nt&quot;&gt;-remapnn&lt;/span&gt;,&lt;span class=&quot;nv&quot;&gt;$suncity&lt;/span&gt; tmax12.nc&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt; 

&lt;span class=&quot;c&quot;&gt;#sed -i 's/\.[0-9]*//g' $nw &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;So GMT reads a point value to plot via pstext as LAT LON FONTSIZE ANGLE
FONTTYPE CAPTION so in this case I needed 27.09 -26.71 12 0 1 LM
Potchefstroom in the script, as you see before every CDO command I echo this
part with the details as needed. The sed command was to remove decimal places,
but at the momement it removes the coordinate decimal places to, which I don’t want.
The output looks like this (named nwtmp.dat):&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;27.09 &lt;span class=&quot;nt&quot;&gt;-26&lt;/span&gt;.71 12 0 1 LM Potchefstroom 12 | 26 
27.25 &lt;span class=&quot;nt&quot;&gt;-25&lt;/span&gt;.65 12 0 1 LM Rustenburg 13 | 28 
25.65 &lt;span class=&quot;nt&quot;&gt;-25&lt;/span&gt;.85 12 0 1 LM Mafikeng 13 | 25 
26.10 &lt;span class=&quot;nt&quot;&gt;-26&lt;/span&gt;.17 12 0 1 LM Lichtenburg 12 | 25 
26.10 &lt;span class=&quot;nt&quot;&gt;-25&lt;/span&gt;.55 12 0 1 LM Zeerust 13 | 27 
27.09 &lt;span class=&quot;nt&quot;&gt;-25&lt;/span&gt;.34 12 0 1 LM Sun-City 14 | 27 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Now the actual plot comes in, using GMT I do:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;#/bin/bash&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# West/East/South/North&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;nw&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;22.4/28.4/-28.12/-24.5

&lt;span class=&quot;c&quot;&gt;# North West&lt;/span&gt;
gmt psbasemap  &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$nw&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JM25&lt;/span&gt;.5 &lt;span class=&quot;nt&quot;&gt;-Ba&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Xc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Yc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; nw.ps
gmt makecpt    &lt;span class=&quot;nt&quot;&gt;-Cjet&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T-10&lt;/span&gt;/40/0.5 &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; aptmp.cpt
gmt grdimage   &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; aptmp12.nc &lt;span class=&quot;nt&quot;&gt;-Captmp&lt;/span&gt;.cpt &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Q&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; nw.ps
gmt pscoast    &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Sskyblue&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; nw.ps
gmt psxy        ZAF_adm1.gmt &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wfaint&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; nw.ps
gmt psxy        nwtmp.dat &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.5 &lt;span class=&quot;nt&quot;&gt;-St0&lt;/span&gt;.65 &lt;span class=&quot;nt&quot;&gt;-Gblack&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; nw.ps
gmt pstext      nwtmp.dat &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-X0&lt;/span&gt;.10 &lt;span class=&quot;nt&quot;&gt;-Gwhite&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; nw.ps&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Here we have our map then&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/maps/nw_temp.png&quot; alt=&quot;nw_temp&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The pixels are a little ugly, the way forward here is to play with grdcontour
and also the cpt file. The eventual plan is to make map like this for every
province, but it takes time to enter the coordinates, as soon as that’s done
it’s easy. Another issue is the .dat file, I need to figure out how to remove
the temperature decimal places, but not the Lat/Lon. I think this is possible
with AWK. I also plan to add MSLP and CAPE values to the output which could be
interesting. It should not be to hard to add anything actually, percentage
cloud cover could also be cool.&lt;/p&gt;

&lt;p&gt;Ps. If you use the script give credit to GMT and CDO.&lt;/p&gt;</content><author><name></name></author><summary type="html">I guess I can safely say most of time is dedicated to making our radar website cooler. I’m pretty lucky. So we currently have three things on the website, the radar (obviously), and then two GFS visualizations. The first is a synoptic scale map of the circulation around South-Africa, mainly mimicking the South-African Weather Service (SAWS) Synoptic Map, but the SAWS is not as lazy as me so my maps are drawn by a computer and not by hand. The second product, and I’m fond of this, is the general circulation of the Southern-Hemisphere. These maps were inspired by the work of Harry von Loon and JJ Taljaard.</summary></entry><entry><title type="html">Making an interactive radar map with GDAL</title><link href="http://localhost:4000/radar/weather/2018/04/08/Interactive-radar-map-with-gdal.html" rel="alternate" type="text/html" title="Making an interactive radar map with GDAL" /><published>2018-04-08T12:43:29+02:00</published><updated>2018-04-08T12:43:29+02:00</updated><id>http://localhost:4000/radar/weather/2018/04/08/Interactive-radar-map-with-gdal</id><content type="html" xml:base="http://localhost:4000/radar/weather/2018/04/08/Interactive-radar-map-with-gdal.html">&lt;p&gt;This post builds on the previous post. As you’ve seen the image from Titan is
a static map of the radar coverage. To improve the map we wanted something
interactive where you can zoom and all that fancy stuff. I made a map with my
favorite tool, yes you guessed right, GMT, however it was still a static map so
no luck there. Next I explored some online options, the easiest was Mapbox.
However, it was not that easy. I actually have to lay out the whole Radar -&amp;gt;
Webserver process to underline how not so easy it is to get workable data, and
by workable data I mean netCDF files and if you think netCDF is an easy file
format to work with, think again.&lt;/p&gt;

&lt;p&gt;Without going into to detail about the radar itself, the process of getting the
current static image is something like this:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Magnetron Generates Pulse -&amp;gt; Radar
Echos -&amp;gt; Receiver Converts -&amp;gt; Titan Processes -&amp;gt; P2P 1 -&amp;gt; P2P 2 -&amp;gt; P2P 3 -&amp;gt;
Local Server -&amp;gt; Webserver -&amp;gt; Lekwena Website&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Not a lot of room for error you see (I’m kidding, there’s a lot of room for
errors and we experience them all).&lt;/p&gt;

&lt;p&gt;The data is also not netCDF, it’s MDV data. What’s MDV data, well I don’t know
but that’s what Titan gives us. Lucky for me there’s a Mdv2netcdf script in the
software so it’s possible to transform the data to something I can work with.&lt;/p&gt;

&lt;p&gt;Back to mapbox, after doing the whole Mdv2netcdf I hoped I could natively import 
the netcdf file without hassle. Apparently not, the fix was relatively easy.
Mapbox takes GEOtiff files and I remembered using &lt;strong&gt;gdal_translate&lt;/strong&gt; for something
in the past and after a very quick Google I did:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gdal_translate radarin.nc radarout.tif&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;and this gave me a very gray image&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/radar/output.jpg&quot; alt=&quot;gray_radar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Although not ideal, the tif image can be imported into Mapbox and it works, but
a gray radar image makes no sense and it’s hard to distinguish dBz. Using
&lt;strong&gt;gdalinfo&lt;/strong&gt; you can inspect the tif or original netcdf file and you’ll see it
only has one band representing dBz. To actually make a color map of dBz
I figured out you have to use &lt;strong&gt;gdaldem&lt;/strong&gt;. First you have to make a color palette
and according to gdal’s website &lt;em&gt;“Since GDAL 1.8.0, GMT .cpt palette files are
also supported (COLOR_MODEL = RGB only).”&lt;/em&gt;. Anyway I didn’t use a cpt but it’s nice to
know.&lt;/p&gt;

&lt;p&gt;So after creating your palette, run gdaldem:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gdaldem color-relief nc20171230_000123.nc &lt;span class=&quot;nt&quot;&gt;-alpha&lt;/span&gt; radar_pal.txt &lt;span class=&quot;nt&quot;&gt;-of&lt;/span&gt; GTiff outfile.tiff&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;and look what a nice image we have, all colorful and everything. However it is
still static&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/radar/outfile.jpg&quot; alt=&quot;gray_radar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;With this overflow of gdal knowledge in me I discovered &lt;strong&gt;gdal2tiles&lt;/strong&gt;. 
Possibly the best discovery yet. Now I did not need Mapbox anymore, I figured
I can create my own interactive map without the need to register some place.&lt;/p&gt;

&lt;p&gt;Using &lt;strong&gt;gdal2tiles&lt;/strong&gt; is as easy as&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gdal2tiles.py &lt;span class=&quot;nt&quot;&gt;-z&lt;/span&gt; 5-10 outfile.tiff&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;and now we have a really cool map (click on the layer tab in the map), which we are currently experimenting with before we put
it on the lekwenaradar website hosted on github. Best of all it seems to work :)&lt;/p&gt;

&lt;iframe height=&quot;750&quot; width=&quot;750&quot; src=&quot;/assets/images/radar/outfile/leaflet.html&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;Now our chain gets a bit more links which means more places for possible
failure, but we have a way cooler map. To revisit the process:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Magnetron Generates Pulse -&amp;gt; Radar Echos -&amp;gt; Receiver Converts -&amp;gt; Titan
Processes -&amp;gt; P2P 1 -&amp;gt; P2P 2 -&amp;gt; P2P 3 -&amp;gt; Local Server -&amp;gt; Mdv2netcdf -&amp;gt;
gdal_translate -&amp;gt; gdaldem -&amp;gt; gdal2tiles -&amp;gt; Webserver -&amp;gt; Lekwena Website&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;All in a day’s work&lt;/p&gt;</content><author><name></name></author><summary type="html">This post builds on the previous post. As you’ve seen the image from Titan is a static map of the radar coverage. To improve the map we wanted something interactive where you can zoom and all that fancy stuff. I made a map with my favorite tool, yes you guessed right, GMT, however it was still a static map so no luck there. Next I explored some online options, the easiest was Mapbox. However, it was not that easy. I actually have to lay out the whole Radar -&amp;gt; Webserver process to underline how not so easy it is to get workable data, and by workable data I mean netCDF files and if you think netCDF is an easy file format to work with, think again.</summary></entry><entry><title type="html">Launching the NWU-Lekwena radar</title><link href="http://localhost:4000/radar/weather/jekyll/2018/03/25/NWU-Lekwena-Radar.html" rel="alternate" type="text/html" title="Launching the NWU-Lekwena radar" /><published>2018-03-25T12:43:29+02:00</published><updated>2018-03-25T12:43:29+02:00</updated><id>http://localhost:4000/radar/weather/jekyll/2018/03/25/NWU-Lekwena-Radar</id><content type="html" xml:base="http://localhost:4000/radar/weather/jekyll/2018/03/25/NWU-Lekwena-Radar.html">&lt;p&gt;The &lt;a href=&quot;www.nwu.ac.za&quot;&gt;North West University Potchefstroom&lt;/a&gt; has a pretty cool
C-band radar currently under development. The radar, a WSR74-C radar, was
previously located in Texas and after three decades it was redeployed to
South-Africa for research purposes. The project was initiated before I started
my graduate studies, but since 2016 we have slowly worked to get the radar
operational. The site location and deployment of the radar was already
completed in 2015 and since then most problems have been related to data
transfer from the radar site to the university 30km away, we continue to have
some troubles with interference on the radar frequency and unreliable power.
Considering all this we managed to get the radar operational and running on
a more permanent bases. We also designed a simple website using Jekyll which
you can view on &lt;a href=&quot;http://www.lekwenaradar.co.za&quot;&gt;www.lekwenaradar.co.za&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It is worth noting that the software used for signal processing is RDAS while
the &lt;a href=&quot;http://www.ral.ucar.edu/projects/titan/home/&quot;&gt;Thunderstorm Identification, Tracking, Analysis and Nowcasting
(TITAN)&lt;/a&gt; contains algorithms to
track and analyse storm intensities and paths. The history of Titan and RDAS
starts in South-Africa (&lt;em&gt;can I say proudly South-African?&lt;/em&gt;) and is quite
&lt;a href=&quot;http://www.ral.ucar.edu/projects/titan/home/history.php&quot;&gt;interesting&lt;/a&gt;.&lt;/p&gt;

&lt;h1 id=&quot;the-website&quot;&gt;The Website&lt;/h1&gt;
&lt;p&gt;The development of &lt;a href=&quot;http://www.lekwenaradar.co.za&quot;&gt;www.lekwenaradar.co.za&lt;/a&gt; happened
pretty rapidly. Having some experience with Jekyll I advocated for deploying
a static site and the convince of using GitHub to host it as two major
advantages and it worked. Due to the rush to get something online I worked off
a custom &lt;a href=&quot;https://github.com/lorepirri/cayman-blog&quot;&gt;Cayman theme&lt;/a&gt;. This allowed
for hamburger menu on a mobile phone. We also added some other sites to make
a more interactive weather website. This was mostly from the &lt;a href=&quot;https://www.eumetsat.int/website/home/index.html&quot;&gt;European
Organisation for the Exploitation of Meteorological Satellites
(EUMETSAT)&lt;/a&gt;. To add &lt;a href=&quot;https://www.hennohavenga.com/weather/bash/gmt/2018/01/28/forecasting-weather-with-bash-and-other-linux-tools.html&quot;&gt;my own
synoptic
maps&lt;/a&gt;
I set up a crontab that goes through all the downloading processes and then it
pushes it automatically to the radar site every morning.&lt;/p&gt;

&lt;h1 id=&quot;how-to-interpret-the-radar-image&quot;&gt;How to interpret the radar image&lt;/h1&gt;
&lt;p&gt;Because we give a very raw product and also the fact that the radar is not
meant used as a severe weather alert system I wrote a short description of how
users should view the image above. I wrote this for the website and I’ll copy
it here. Below is a real-time image of the radar if it’s running smoothly.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://143.160.8.22/cappi.gif&quot; alt=&quot;radar_real&quot; /&gt; &lt;sub&gt;NWU
Lekwena Radar, almost realtime if running correctly &lt;/sub&gt;&lt;/p&gt;

&lt;h1 id=&quot;how-to-interpret-the-radar-image-1&quot;&gt;How to interpret the radar image&lt;/h1&gt;

&lt;h3 id=&quot;time&quot;&gt;Time&lt;/h3&gt;
&lt;p&gt;The radar is set to Coordinated Universal Time (UTC) and not South African
Standard Time (SAST). To correct for this you need to add two hours to the time
as indicated below, for example 12:04 UTC + 2 Hours = 14:04 SAST. To check if
the radar is currently running the time should match within +-10 minutes of the actual time,
if it doesn’t it’s safe to assume the radar or webserver is down.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/radar/RadarTime.png&quot; alt=&quot;radar_time&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;reflectivity-dbz&quot;&gt;Reflectivity (dBZ)&lt;/h3&gt;
&lt;p&gt;In the most basic terms a radar’s operation consists of a high frequency signal
pulse that’s generated from the site, this signal echo’s when it interacts with
large particles such as hail or raindrops and a receiver converts
the echo into something human interpretable. This echo is represented as
&lt;em&gt;decibel relative to Z&lt;/em&gt; or dBZ. Strong dBZ means there are large particles producing
a strong echo, this would be large rain, hail or ice particles in clouds.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/radar/RadarDBZ.png&quot; alt=&quot;radar_bdz&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;interference&quot;&gt;Interference&lt;/h3&gt;
&lt;p&gt;The NWU Lekwena Radar has an license to operate on the 5.62 gHz bandwidth and
any WiFi or communication network between 5.55 to 5.67 gHz causes problems and
hampers data quality. The public is encouraged not to use these bandwidths in
the Potchefstroom area and the NWU-CRG is willing to help users mitigate
interference by advising on the installation of Dynamic Frequency Selection
(DFS) devices. Users can also contact their service providers to learn more
about the frequency of their devices and how to avoid interference with the
Radar.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/radar/RadarInterf.png&quot; alt=&quot;radar_interference&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;places-indicators&quot;&gt;Places Indicators&lt;/h3&gt;
&lt;p&gt;The radar indicates towns with abbreviations and also some regional airports in
the Gauteng Area with the Airplane sign. The little cloud sign indicates
the location of the SAWS Irene Weather station. The circular lines indicate the distance
of from the radar site, which is a maximum of 200km due to various factors such as the
curvature of the earth&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/radar/RadarAirports.png&quot; alt=&quot;radar_interference&quot; /&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">The North West University Potchefstroom has a pretty cool C-band radar currently under development. The radar, a WSR74-C radar, was previously located in Texas and after three decades it was redeployed to South-Africa for research purposes. The project was initiated before I started my graduate studies, but since 2016 we have slowly worked to get the radar operational. The site location and deployment of the radar was already completed in 2015 and since then most problems have been related to data transfer from the radar site to the university 30km away, we continue to have some troubles with interference on the radar frequency and unreliable power. Considering all this we managed to get the radar operational and running on a more permanent bases. We also designed a simple website using Jekyll which you can view on www.lekwenaradar.co.za.</summary></entry><entry><title type="html">Making a poster with LaTeX</title><link href="http://localhost:4000/latex/poster/2018/02/22/latex-poster-conviences.html" rel="alternate" type="text/html" title="Making a poster with LaTeX" /><published>2018-02-22T12:43:29+02:00</published><updated>2018-02-22T12:43:29+02:00</updated><id>http://localhost:4000/latex/poster/2018/02/22/latex-poster-conviences</id><content type="html" xml:base="http://localhost:4000/latex/poster/2018/02/22/latex-poster-conviences.html">&lt;p&gt;LaTex is one of those cool things that suck you into the metaphorical rabbit
hole. I hesitantly started writing my thesis in it somewhere in 2016 mostly out
of my own initiative, my supervisor was using it but he recommended everyone
against it and I would do the same, it’s just not that efficient and you can’t
hide behind Microsoft Office’s fancy spelling/grammar checks and it lacks some
support, our University’s writing department did not even know what LaTex is,
this might be the case at other institutions to.&lt;/p&gt;

&lt;p&gt;Making a poster in LaTeX was an surprisingly enjoyable exercise. After finding
the the right combination of packages and experimenting with the layout the
setup below best suited me. I’ll start off with the packages in the preamble.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-latex&quot; data-lang=&quot;latex&quot;&gt;&lt;span class=&quot;k&quot;&gt;\documentclass&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;[a1,final]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;a0poster&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\usepackage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;graphicx&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\usepackage&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;[absolute,overlay]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;textpos&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\usepackage&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;[colorgrid,texcoord]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;eso-pic&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\setlength&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;\TPHorizModule&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;10mm&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\setlength&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;\TPVertModule&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;10mm&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;a href=&quot;http://www.ctan.org/pkg/a0poster&quot;&gt;&lt;em&gt;documentclass{a0poster}&lt;/em&gt;&lt;/a&gt; conveniently sorts out
the formatting problems related to the poster size, things like fonts and
formulas. The &lt;a href=&quot;http://www.ctan.org/pkg/textpos&quot;&gt;&lt;em&gt;textpos&lt;/em&gt;&lt;/a&gt; allows you to specify the
exact position of text boxes, or figures, in the posters as an x,y point and we
can see this x,y grid by using the &lt;a href=&quot;http://www.ctan.org/pkg/eso-pic&quot;&gt;&lt;em&gt;eso-pic&lt;/em&gt;&lt;/a&gt; package.
The textpos documentation tells us that both &lt;em&gt;TPHoriz&lt;/em&gt; and &lt;em&gt;TPVert&lt;/em&gt; refer to
the x,y size parameters of the of the text block environment. You can also
change the layout to portrait (default is landscape) by doing
&lt;em&gt;/documentclass[portrait,a0,final]&lt;/em&gt; and change the aX to 0 or 1 depending on
your desired size&lt;/p&gt;

&lt;p&gt;Try this out to get a feel:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-latex&quot; data-lang=&quot;latex&quot;&gt;&lt;span class=&quot;c&quot;&gt;% The preamble &lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\documentclass&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;[a1,final]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;a0poster&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\usepackage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;graphicx&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\usepackage&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;[absolute,overlay]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;textpos&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\usepackage&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;[colorgrid,texcoord]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;eso-pic&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\setlength&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;\TPHorizModule&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;10mm&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\setlength&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;\TPVertModule&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;10mm&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;% Begin&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;\begin{document}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;% Title&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;\begin{textblock}&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;26&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;(2, 2)
&lt;span class=&quot;k&quot;&gt;\VeryHuge&lt;/span&gt; Poster Making 101
&lt;span class=&quot;nt&quot;&gt;\end{textblock}&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;\end{document}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;You should get this output:
&lt;img src=&quot;http://localhost:4000/assets/images/random/poster_basic.png&quot; alt=&quot;basic_poster&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Adding and positioning blocks of text is pretty easy. I’m going to use the
&lt;em&gt;\lipsum&lt;/em&gt; package to avoid writing my own stuff :).&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-latex&quot; data-lang=&quot;latex&quot;&gt;&lt;span class=&quot;c&quot;&gt;% The preamble &lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\documentclass&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;[a1,final]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;a0poster&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\usepackage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;graphicx&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\usepackage&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;[absolute,overlay]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;textpos&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\usepackage&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;[colorgrid,texcoord]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;eso-pic&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\setlength&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;\TPHorizModule&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;10mm&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\setlength&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;\TPVertModule&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;10mm&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\usepackage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;lipsum&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;% Begin&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;\begin{document}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;% Title&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;\begin{textblock}&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;26&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;(2, 2)
&lt;span class=&quot;k&quot;&gt;\VeryHuge&lt;/span&gt; Poster Making 101 
&lt;span class=&quot;nt&quot;&gt;\end{textblock}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;% Text Box 1&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;\begin{textblock}&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;50&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;(2, 6)
&lt;span class=&quot;k&quot;&gt;\large&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;\lipsum&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;[60]&lt;/span&gt; 
&lt;span class=&quot;nt&quot;&gt;\end{textblock}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;% Text Box 2&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;\begin{textblock}&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;30&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;(53, 6)
&lt;span class=&quot;k&quot;&gt;\large&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;\lipsum&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;[80]&lt;/span&gt; 
&lt;span class=&quot;nt&quot;&gt;\end{textblock}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;% Text Box 3&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;\begin{textblock}&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;15&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;(68, 27)
&lt;span class=&quot;k&quot;&gt;\large&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;\lipsum&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;[40]&lt;/span&gt; 
&lt;span class=&quot;nt&quot;&gt;\end{textblock}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;% A Fancy Picture made with GMT of course&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;\begin{textblock}&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;0&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;(0, 10)
&lt;span class=&quot;nt&quot;&gt;\begin{figure}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\includegraphics&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;hail&lt;span class=&quot;p&quot;&gt;_&lt;/span&gt;composite&lt;span class=&quot;p&quot;&gt;_&lt;/span&gt;globe.pdf&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;\end{figure}&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;\end{textblock}&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;\end{document}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;And then you a very nice layout a1, landscape poster.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://localhost:4000/assets/images/random/poster_not_so_basic.png&quot; alt=&quot;basic_final&quot; /&gt;&lt;/p&gt;

&lt;p&gt;To remove the grids, uncomment \usepackage[colorgrid,texcoord]{eso-pic} and to
remove the boxes around the text (altough it might be good to keep them) remove
&lt;em&gt;showboxes&lt;/em&gt; in the &lt;em&gt;eso-pic&lt;/em&gt; package.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://localhost:4000/assets/images/random/poster_no_grid.png&quot; alt=&quot;basic_final&quot; /&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">LaTex is one of those cool things that suck you into the metaphorical rabbit hole. I hesitantly started writing my thesis in it somewhere in 2016 mostly out of my own initiative, my supervisor was using it but he recommended everyone against it and I would do the same, it’s just not that efficient and you can’t hide behind Microsoft Office’s fancy spelling/grammar checks and it lacks some support, our University’s writing department did not even know what LaTex is, this might be the case at other institutions to.</summary></entry><entry><title type="html">A weather forecast with bash and other command line tools</title><link href="http://localhost:4000/weather/bash/gmt/2018/01/28/forecasting-weather-with-bash-and-other-linux-tools.html" rel="alternate" type="text/html" title="A weather forecast with bash and other command line tools" /><published>2018-01-28T12:43:29+02:00</published><updated>2018-01-28T12:43:29+02:00</updated><id>http://localhost:4000/weather/bash/gmt/2018/01/28/forecasting-weather-with-bash-and-other-linux-tools</id><content type="html" xml:base="http://localhost:4000/weather/bash/gmt/2018/01/28/forecasting-weather-with-bash-and-other-linux-tools.html">&lt;p&gt;I’ll let the script speak for itself, there is also a copy on
&lt;a href=&quot;https://github.com/h-havenga/GMT-Maps/blob/master/gfsmaps/gfs_forecast.sh&quot;&gt;github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To install the packages needed do:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt install gmt gmt-gshhg-full cdo wget&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Here are some examples of the possible outputs:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crggithub.github.io/assets/images/synoptic_maps/synoptic.gif&quot; alt=&quot;cloud_map&quot; /&gt;
&lt;sub&gt;A gfs synoptic map. &lt;/sub&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crggithub.github.io/assets/images/synoptic_maps/aptmp.gif&quot; alt=&quot;atmp_map&quot; /&gt;
&lt;sub&gt;A gfs synoptic map with temperature forecast. &lt;/sub&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;

             &lt;span class=&quot;c&quot;&gt;###################################&lt;/span&gt;
             &lt;span class=&quot;c&quot;&gt;#    Written By Henno Havenga     #&lt;/span&gt;
             &lt;span class=&quot;c&quot;&gt;#           GMT 5.4.3             #&lt;/span&gt;
             &lt;span class=&quot;c&quot;&gt;#          wget 1.19.2            #&lt;/span&gt;
             &lt;span class=&quot;c&quot;&gt;#           CDO 1.9.2             #&lt;/span&gt;
             &lt;span class=&quot;c&quot;&gt;# NCEP/NOAA https://goo.gl/xP3X4L #&lt;/span&gt;
             &lt;span class=&quot;c&quot;&gt;#   SA Shapefile: Natural Earth   #&lt;/span&gt;
             &lt;span class=&quot;c&quot;&gt;#          GPL Licence            #&lt;/span&gt;
             &lt;span class=&quot;c&quot;&gt;###################################&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;########################################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# DISCLAIMER:                                                          #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# This a simple program to make your own weather forecast using        #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# publicly available Global Forecasting (GFS) data. The main programs  # &lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# used include WGET to grab gfs data from the NCEP/NOAA server,        #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Climate Data Operators (CDO) to convert and modify the data where    #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# needed and the main program used here is Generic Mapping Tools (GMT).#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# GMT is used to perform mathematical functions on the datasets and to # &lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# draw and plot the data over the desired area. All data and code is   #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# free to use and share, however, absolutely no part of this script    #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# may be commercialized. If you ask someone money for this you are     #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# breaking my terms for reusing this script.                           #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#                                                                      #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Please be aware that this is NOT an official weather forecast.       #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# The products created here should not be used in anyway or            #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# form to issue any kind of weather alerts as the South-African Weather#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Service (SAWS) is the only recognized authority in South-Africa      #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# allowed to do so. It is not the authors job to argue the law. Instead#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# users are encouraged to use the products for education purposes.     #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;########################################################################&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# The script downloads the data for the current day&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Specify the forecast intervals in the forecast variable&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# You can pull a forecast 6 days in advance, that would be 384 hours&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;today&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date +&lt;span class=&quot;s2&quot;&gt;&quot;%Y%m%d00&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;gfs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://www.ftp.ncep.noaa.gov/data/nccf/com/gfs/prod/gfs
&lt;span class=&quot;nv&quot;&gt;forecast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;06 12 18 24 30 36 42 48&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Loop through the specified forecast times wanted and grab GFS data&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;forecast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;do 
    &lt;/span&gt;wget &lt;span class=&quot;nv&quot;&gt;$gfs&lt;/span&gt;.&lt;span class=&quot;nv&quot;&gt;$today&lt;/span&gt;/gfs.t00z.pgrb2.0p25.f0&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# For archive purposes we clip the data to South-Africa with cdo&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# and convert GFS files to workable netcdf files&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;forecast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;  
&lt;span class=&quot;k&quot;&gt;do 
    &lt;/span&gt;cdo &lt;span class=&quot;nt&quot;&gt;-sellonlatbox&lt;/span&gt;,-35,85,-85,0 gfs.t00z.pgrb2.0p25.f0&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; gfs.&lt;span class=&quot;nv&quot;&gt;$today&lt;/span&gt;.&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; 
    cdo &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; nc copy gfs.&lt;span class=&quot;nv&quot;&gt;$today&lt;/span&gt;.&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; ncfile&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc 
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Move clipped GFS files to an archive directory &lt;/span&gt;
rm gfs.t00z.pgrb2.0p25.f&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
mkdir &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gfs_archive/gfs_&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$today&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
mv gfs.&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; gfs_archive/gfs_&lt;span class=&quot;nv&quot;&gt;$today&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Extract variables from the NC files for easy use in GMT&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;forecast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;do
    &lt;/span&gt;cdo selname,gh ncfile&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc geopotential&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc 
    cdo splitlevel geopotential&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc geopotential&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;- 
    mv geopotential&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-050000&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; zg500&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc 
    rm geopotential&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# To plot the files in GMT we need to get the variables from the newly &lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# created netcdf files by extracting only the variable we want.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;forecast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;do
    &lt;/span&gt;gmt grdconvert ncfile&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc&lt;span class=&quot;se&quot;&gt;\?&lt;/span&gt;prmsl &lt;span class=&quot;nt&quot;&gt;-Gmslp_nrm&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc
    gmt grdconvert zg500&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc&lt;span class=&quot;se&quot;&gt;\?&lt;/span&gt;gh     &lt;span class=&quot;nt&quot;&gt;-Gzg500_nrm&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc
    gmt grdconvert ncfile&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc&lt;span class=&quot;se&quot;&gt;\?&lt;/span&gt;tcc   &lt;span class=&quot;nt&quot;&gt;-Gcloudcover&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc
    gmt grdconvert ncfile&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc&lt;span class=&quot;se&quot;&gt;\?&lt;/span&gt;cape  &lt;span class=&quot;nt&quot;&gt;-Gcape&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc
    gmt grdconvert ncfile&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc&lt;span class=&quot;se&quot;&gt;\?&lt;/span&gt;aptmp &lt;span class=&quot;nt&quot;&gt;-Gaptmp&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Do some math&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# We standardize the pressure and convert Kelvin to Celsius&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;forecast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;do
    &lt;/span&gt;gmt grdmath mslp_nrm&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc 100 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; mslp_nrm&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc    
    gmt grdmath zg500_nrm&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc 10 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; zg500_nrm&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc    
    gmt grdmath cloudcover&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc 0 NAN &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; cloudcover&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc
    gmt grdmath aptmp&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc 273.15 SUB &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; aptmp&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Make CAPE values below 250 NAN&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;forecast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;do
    for &lt;/span&gt;number &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;0..200&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;do
        &lt;/span&gt;gmt grdmath cape&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc &lt;span class=&quot;nv&quot;&gt;$number&lt;/span&gt; NAN &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; cape&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc
    &lt;span class=&quot;k&quot;&gt;done
done&lt;/span&gt;

            &lt;span class=&quot;c&quot;&gt;######################################&lt;/span&gt;
            &lt;span class=&quot;c&quot;&gt;#               Plot                 #&lt;/span&gt;
            &lt;span class=&quot;c&quot;&gt;######################################&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Coordinates (actually lower left and upper right not E S W N) &lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Projection (Lambert Azimuthal Equal-Area)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;coord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-20&lt;/span&gt;/-46/60/-12r&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;25.5

&lt;span class=&quot;c&quot;&gt;# First a map with Cloudcover, zg500 and mslp&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;forecast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;do
    &lt;/span&gt;gmt psbasemap  &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$coord&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA25&lt;/span&gt;/-30/&lt;span class=&quot;nv&quot;&gt;$width&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Xc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Yc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ba0&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B&lt;/span&gt;+t&lt;span class=&quot;s2&quot;&gt;&quot;Cloud Cover Forecast &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date +&lt;span class=&quot;s2&quot;&gt;&quot;%Y-%m-%d-00:00&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; + &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; Hours&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; cloud_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt makecpt    &lt;span class=&quot;nt&quot;&gt;-Cgebco&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T1&lt;/span&gt;/100/5 &lt;span class=&quot;nt&quot;&gt;-Z&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-I&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; cloud.cpt
    gmt pscoast    &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Df&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-N1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-G200&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; cloud_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt grdimage   &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; cloudcover&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-Ccloud&lt;/span&gt;.cpt &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Q&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; cloud_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps  
    gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wthinnest&lt;/span&gt;,-- mslp_nrm&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-C2&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A2&lt;/span&gt;+f10 &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt;+lLH &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; cloud_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wthick&lt;/span&gt;,black zg500_nrm&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-S150&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-C10&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A20&lt;/span&gt;+f14 &lt;span class=&quot;nt&quot;&gt;-Gn1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt;+lLH &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; cloud_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt psxy        ZAF_adm1.gmt &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wfaint&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; cloud_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt psscale    &lt;span class=&quot;nt&quot;&gt;-Ccloud&lt;/span&gt;.cpt &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dx12&lt;/span&gt;.25c/-1c+w12c/0.5c+jTC+h &lt;span class=&quot;nt&quot;&gt;-Bx10&lt;/span&gt;+l&lt;span class=&quot;s2&quot;&gt;&quot;Cloud Cover&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-By&lt;/span&gt;+l% &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; cloud_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Make a animation&lt;/span&gt;
convert &lt;span class=&quot;nt&quot;&gt;-bordercolor&lt;/span&gt; white &lt;span class=&quot;nt&quot;&gt;-border&lt;/span&gt; 0 &lt;span class=&quot;nt&quot;&gt;-layers&lt;/span&gt; OptimizePlus &lt;span class=&quot;nt&quot;&gt;-density&lt;/span&gt; 300 &lt;span class=&quot;nt&quot;&gt;-delay&lt;/span&gt; 2x1 cloud&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.ps &lt;span class=&quot;nt&quot;&gt;-loop&lt;/span&gt; 0 cloud_&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date &lt;span class=&quot;s2&quot;&gt;&quot;+%Y%m%d&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;.gif
convert cloud_&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date &lt;span class=&quot;s2&quot;&gt;&quot;+%Y%m%d&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;.gif &lt;span class=&quot;nt&quot;&gt;-rotate&lt;/span&gt; 90  cloud.gif

&lt;span class=&quot;c&quot;&gt;# Second a map with CAPE, zg500 and mslp&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;forecast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;do
    &lt;/span&gt;gmt psbasemap  &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$coord&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA25&lt;/span&gt;/-30/&lt;span class=&quot;nv&quot;&gt;$width&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Xc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Yc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ba0&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B&lt;/span&gt;+t&lt;span class=&quot;s2&quot;&gt;&quot;CAPE Forecast &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date +&lt;span class=&quot;s2&quot;&gt;&quot;%Y-%m-%d-00:00&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; + &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; Hours&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; cape_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt makecpt    &lt;span class=&quot;nt&quot;&gt;-Chot&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T250&lt;/span&gt;/2000/50 &lt;span class=&quot;nt&quot;&gt;-Z&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-I&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; cape.cpt
    gmt pscoast    &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Df&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-N1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-G200&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; cape_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt grdimage   &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; cape&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-Ccape&lt;/span&gt;.cpt &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Q&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; cape_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps  
    gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wthinnest&lt;/span&gt;,-- mslp_nrm&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-C2&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A2&lt;/span&gt;+f10 &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt;+lLH &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; cape_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wthick&lt;/span&gt;,black zg500_nrm&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-S150&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-C10&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A20&lt;/span&gt;+f14 &lt;span class=&quot;nt&quot;&gt;-Gn1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt;+lLH &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; cape_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt psxy        ZAF_adm1.gmt &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wfaint&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; cape_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt psscale    &lt;span class=&quot;nt&quot;&gt;-Ccape&lt;/span&gt;.cpt &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dx12&lt;/span&gt;.25c/-1c+w12c/0.5c+jTC+h &lt;span class=&quot;nt&quot;&gt;-Bx150&lt;/span&gt;+l&lt;span class=&quot;s2&quot;&gt;&quot;CAPE J/Kg&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-By&lt;/span&gt;+lJ/kg &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; cape_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Make a animation&lt;/span&gt;
convert &lt;span class=&quot;nt&quot;&gt;-bordercolor&lt;/span&gt; white &lt;span class=&quot;nt&quot;&gt;-border&lt;/span&gt; 0 &lt;span class=&quot;nt&quot;&gt;-layers&lt;/span&gt; OptimizePlus &lt;span class=&quot;nt&quot;&gt;-density&lt;/span&gt; 300 &lt;span class=&quot;nt&quot;&gt;-delay&lt;/span&gt; 2x1 cape&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.ps &lt;span class=&quot;nt&quot;&gt;-loop&lt;/span&gt; 0 cape_&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date &lt;span class=&quot;s2&quot;&gt;&quot;+%Y%m%d&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;.gif
convert cape_&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date &lt;span class=&quot;s2&quot;&gt;&quot;+%Y%m%d&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;.gif &lt;span class=&quot;nt&quot;&gt;-rotate&lt;/span&gt; 90 cape.gif

&lt;span class=&quot;c&quot;&gt;# Third a map with temperature, zg500 and mslp&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;forecast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;do
    &lt;/span&gt;gmt psbasemap  &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$coord&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA25&lt;/span&gt;/-30/&lt;span class=&quot;nv&quot;&gt;$width&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Xc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Yc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ba0&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B&lt;/span&gt;+t&lt;span class=&quot;s2&quot;&gt;&quot;Apparent Temperature &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date +&lt;span class=&quot;s2&quot;&gt;&quot;%Y-%m-%d-00:00&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; + &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; Hours&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; aptmp_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt makecpt    &lt;span class=&quot;nt&quot;&gt;-Cjet&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T-8&lt;/span&gt;/43/1 &lt;span class=&quot;nt&quot;&gt;-Z&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; aptmp.cpt
    gmt grdimage   &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; aptmp&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-Captmp&lt;/span&gt;.cpt &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Q&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; aptmp_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps  
    gmt pscoast    &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Df&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-N1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; aptmp_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wthinnest&lt;/span&gt;,-- mslp_nrm&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-C2&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A2&lt;/span&gt;+f10 &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt;+lLH &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; aptmp_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wthick&lt;/span&gt;,black zg500_nrm&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-S150&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-C10&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A20&lt;/span&gt;+f14 &lt;span class=&quot;nt&quot;&gt;-Gn1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt;+lLH &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; aptmp_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt psxy        ZAF_adm1.gmt &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wfaint&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; aptmp_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt psscale    &lt;span class=&quot;nt&quot;&gt;-Captmp&lt;/span&gt;.cpt &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dx12&lt;/span&gt;.25c/-1c+w12c/0.5c+jTC+h &lt;span class=&quot;nt&quot;&gt;-Bx5&lt;/span&gt;+l&lt;span class=&quot;s2&quot;&gt;&quot;Temperature&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-By&lt;/span&gt;+lCelcuis &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; aptmp_map&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Make a animation&lt;/span&gt;
convert &lt;span class=&quot;nt&quot;&gt;-bordercolor&lt;/span&gt; white &lt;span class=&quot;nt&quot;&gt;-border&lt;/span&gt; 0 &lt;span class=&quot;nt&quot;&gt;-layers&lt;/span&gt; OptimizePlus &lt;span class=&quot;nt&quot;&gt;-density&lt;/span&gt; 300 &lt;span class=&quot;nt&quot;&gt;-delay&lt;/span&gt; 2x1 aptmp&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.ps &lt;span class=&quot;nt&quot;&gt;-loop&lt;/span&gt; 0 aptmp_&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date &lt;span class=&quot;s2&quot;&gt;&quot;+%Y%m%d&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;.gif
convert aptmp_&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date &lt;span class=&quot;s2&quot;&gt;&quot;+%Y%m%d&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;.gif &lt;span class=&quot;nt&quot;&gt;-rotate&lt;/span&gt; 90  aptmp.gif

&lt;span class=&quot;c&quot;&gt;# Last map zg500 and mslp&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;forecast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;do
    &lt;/span&gt;gmt psbasemap  &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$coord&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA25&lt;/span&gt;/-30/&lt;span class=&quot;nv&quot;&gt;$width&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Xc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Yc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ba0&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B&lt;/span&gt;+t&lt;span class=&quot;s2&quot;&gt;&quot;Synoptic Weather Map &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date +&lt;span class=&quot;s2&quot;&gt;&quot;%Y-%m-%d-00:00&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; + &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; Hours&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; synoptic&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt pscoast    &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Df&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-N1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-G200&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; synoptic&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wthinnest&lt;/span&gt;,-- mslp_nrm&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-C2&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A2&lt;/span&gt;+f10 &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt;+lLH &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; synoptic&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wthick&lt;/span&gt;,black zg500_nrm&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-S150&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-C10&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A20&lt;/span&gt;+f14 &lt;span class=&quot;nt&quot;&gt;-Gn1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt;+lLH &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; synoptic&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
    gmt psxy        ZAF_adm1.gmt &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wfaint&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; synoptic&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;.ps
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Make a animation&lt;/span&gt;
convert &lt;span class=&quot;nt&quot;&gt;-bordercolor&lt;/span&gt; white &lt;span class=&quot;nt&quot;&gt;-border&lt;/span&gt; 0 &lt;span class=&quot;nt&quot;&gt;-layers&lt;/span&gt; OptimizePlus &lt;span class=&quot;nt&quot;&gt;-density&lt;/span&gt; 300 &lt;span class=&quot;nt&quot;&gt;-delay&lt;/span&gt; 2x1 synoptic&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.ps &lt;span class=&quot;nt&quot;&gt;-loop&lt;/span&gt; 0 synoptic_&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date &lt;span class=&quot;s2&quot;&gt;&quot;+%Y%m%d&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;.gif
convert synoptic_&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date &lt;span class=&quot;s2&quot;&gt;&quot;+%Y%m%d&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;.gif &lt;span class=&quot;nt&quot;&gt;-rotate&lt;/span&gt; 90 synoptic.gif

&lt;span class=&quot;c&quot;&gt;# Move eps and gif &lt;/span&gt;
mkdir &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ps/&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$today&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
mkdir &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gif/&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$today&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
mv &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;ps ps/&lt;span class=&quot;nv&quot;&gt;$today&lt;/span&gt;
rm &lt;span class=&quot;k&quot;&gt;*$(&lt;/span&gt;date &lt;span class=&quot;s2&quot;&gt;&quot;+%Y%m%d&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;.gif
mv &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;gif gif/&lt;span class=&quot;nv&quot;&gt;$today&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# The data is quite big, because the netcdf files are a product of the&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# gfs files you can remove all netcdf files and compress the gfs&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# file for archive purposes.&lt;/span&gt;
rm &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.nc

&lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;0&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</content><author><name></name></author><summary type="html">I’ll let the script speak for itself, there is also a copy on github.</summary></entry><entry><title type="html">Automating some tasks with bash: coping photos from camera</title><link href="http://localhost:4000/bash/automatization/2018/01/14/simple-bash-srcipt-copy-photos-from-camera.html" rel="alternate" type="text/html" title="Automating some tasks with bash: coping photos from camera" /><published>2018-01-14T12:43:29+02:00</published><updated>2018-01-14T12:43:29+02:00</updated><id>http://localhost:4000/bash/automatization/2018/01/14/simple-bash-srcipt-copy-photos-from-camera</id><content type="html" xml:base="http://localhost:4000/bash/automatization/2018/01/14/simple-bash-srcipt-copy-photos-from-camera.html">&lt;p&gt;I recently downloaded Ubuntu on a new pc for my family, in my quest to convince
them of the &lt;em&gt;usefulness&lt;/em&gt; of Linux, I wrote a little script for them to use when
downloading photos from their cameras instead of going through the tedious
process of clicking a mouse 25 times. If my attempts to actually get them into
the Linux system works is another question.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#Author: Henno Havenga&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#This is a quick and dirty Canon EOS download script from the SD card reader&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#Name of file = download date&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date +%Y_%m_%d&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;

cowsay &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; gnu &lt;span class=&quot;s2&quot;&gt;&quot;Welcome&quot;&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Photos will be saved under Pictures/&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$date&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/70D. Press ENTER to continue &quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#Make directory&lt;/span&gt;
mkdir &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; ~/Pictures/&lt;span class=&quot;nv&quot;&gt;$date&lt;/span&gt;/70D

&lt;span class=&quot;c&quot;&gt;#Copy photos to new directory, when done open directory&lt;/span&gt;
cp &lt;span class=&quot;nt&quot;&gt;--verbose&lt;/span&gt; /media/ubuntu/EOS_DIGITAL/DCIM/100CANON/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; ~/Pictures/&lt;span class=&quot;nv&quot;&gt;$date&lt;/span&gt;/70D

cowsay &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; gnu &lt;span class=&quot;s2&quot;&gt;&quot;All Done&quot;&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Photos saved to /Pictures/&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$date&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/70D. Press ENTER to open the folder &quot;&lt;/span&gt;

nautilus ~/Pictures/&lt;span class=&quot;nv&quot;&gt;$date&lt;/span&gt;/70D &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;0&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;To make the file an desktop shortcut was actually more effort then I thought.
You have to create the following in the Desktop directory under something like
Canon_Downloads.desktop and add the following to its contents&lt;/p&gt;

&lt;p&gt;[Desktop Entry] &lt;br /&gt;
Name=70D_Photo_Download&lt;br /&gt;
Comment=Download RWFL photos from Canon 70D &lt;br /&gt;
Exec=bash -c ‘~/Programs/bash_scripts/GetPhotos70D.sh’&lt;br /&gt;
Icon=utilities-terminal&lt;br /&gt;
Terminal=true&lt;br /&gt;
Type=Application&lt;br /&gt;
Categories=Application&lt;br /&gt;
Name=70D_Photo_Download&lt;/p&gt;

&lt;p&gt;The last think is to make sure both the bash and the .desktop is executable. To
make a executable just do&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;chmod +x inputfile&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;And now it’s just a double click away&lt;/p&gt;</content><author><name></name></author><summary type="html">I recently downloaded Ubuntu on a new pc for my family, in my quest to convince them of the usefulness of Linux, I wrote a little script for them to use when downloading photos from their cameras instead of going through the tedious process of clicking a mouse 25 times. If my attempts to actually get them into the Linux system works is another question.</summary></entry><entry><title type="html">Usefull, useless things</title><link href="http://localhost:4000/things/linux/2018/01/09/useless-things-learn-during-the-day.html" rel="alternate" type="text/html" title="Usefull, useless things" /><published>2018-01-09T10:00:29+02:00</published><updated>2018-01-09T10:00:29+02:00</updated><id>http://localhost:4000/things/linux/2018/01/09/useless-things-learn-during-the-day</id><content type="html" xml:base="http://localhost:4000/things/linux/2018/01/09/useless-things-learn-during-the-day.html">&lt;p&gt;Everyday I figure out small things that make life a little easier and don’t fit
in my &lt;em&gt;useful one liners&lt;/em&gt; post , I tend to forget them the moment I’m done
using it or implementing whatever I need it for. This could be anything from
latex to git to bash to vim and in most cases these are just little
conveniences. So I’ll attempt to note these useless things here.&lt;/p&gt;

&lt;h3 id=&quot;adding-metadata-to-latex-pdf&quot;&gt;Adding Metadata to LaTeX pdf&lt;/h3&gt;
&lt;p&gt;This whole post was inspired by right clicking on my thesis and seeing that my
metadata is empty, the fix was pretty easy. Add this to your preamble:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-latex&quot; data-lang=&quot;latex&quot;&gt;&lt;span class=&quot;k&quot;&gt;\usepackage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;hyperref&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;\hypersetup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    pdftitle=&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;LaTeX is for cool kids&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;,
    pdfsubject=&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;Not Computer Science&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;,
    pdfauthor=&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;Henno Havenga&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;,
    pdfkeywords=&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;LaTeX, VIM, Debian, GNU, Linux&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;plotting-a-tif-file-with-gmt&quot;&gt;Plotting a tif file with GMT&lt;/h3&gt;
&lt;p&gt;I needed to clip a &lt;a href=&quot;https://visibleearth.nasa.gov/view_cat.php?categoryID=1484&quot;&gt;NASA Blue
Marble&lt;/a&gt; tif file.
I wanted to use &lt;em&gt;gdal_tanslate&lt;/em&gt; but a not so quick search yield
&lt;a href=&quot;https://joeyklee.github.io/broc-cli-geo/guide/XX_raster_cropping_and_clipping.html&quot;&gt;&lt;em&gt;gdalwarp&lt;/em&gt;&lt;/a&gt;
as a simpler option. Also note that the default NASA projection is Plate Carrée
(JQ in GMT), this is useful to know if you want to draw borders over the NASA
data using GMT without thinking to much about conversions. To clip the data
I used gdalwarp and then GMT’s psimage module to overlay the image on a map:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gdalwarp &lt;span class=&quot;nt&quot;&gt;-te&lt;/span&gt; 15 59 38 71 blue_marble_infile.tif clipped_blue_marble_outfile.tif&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gmt psbasemap &lt;span class=&quot;nt&quot;&gt;-R15&lt;/span&gt;/38/59/71.5 &lt;span class=&quot;nt&quot;&gt;-JQ20&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Xc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Yc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B5a0&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; image_map.ps
gmt psimage clipped_blue_marble_outfile.tif &lt;span class=&quot;nt&quot;&gt;-DjCM&lt;/span&gt;+w20/11.1 &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-J&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; image_map.ps&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;linking-to-most-recent-eumetsat-products-in-markdown&quot;&gt;Linking to most recent EUMETSAT products in markdown&lt;/h3&gt;
&lt;p&gt;In playing around with this site I thought about make a page dedicated weather
stuff, it was pretty easy to link directly to EUMETSAT products with markdown
by just copying the image link like this:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-markdown&quot; data-lang=&quot;markdown&quot;&gt;    &lt;span class=&quot;nt&quot;&gt;&amp;lt;center&amp;gt;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;&amp;lt;td&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;align=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;center&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;valign=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;center&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt; &amp;lt;img
    SRC=&quot;http://oiswww.eumetsat.org/IPPS/html/latestImages/EUMETSAT_MSG_RGBNatColour_LowResolution.jpg&quot;
    alt=&quot;description here&quot; /&amp;gt; &lt;span class=&quot;nt&quot;&gt;&amp;lt;br&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt; EUMETSAT RGB Africa. &lt;span class=&quot;nt&quot;&gt;&amp;lt;/td&amp;gt;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;&amp;lt;/center&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;center&gt; &lt;td align=&quot;center&quot; valign=&quot;center&quot;&gt; &lt;img src=&quot;http://oiswww.eumetsat.org/IPPS/html/latestImages/EUMETSAT_MSG_RGBNatColour_LowResolution.jpg&quot; alt=&quot;description here&quot; /&gt; &lt;br /&gt; EUMETSAT RGB Africa. &lt;/td&gt; &lt;/center&gt;

&lt;h3 id=&quot;array-in-bash&quot;&gt;Array in bash&lt;/h3&gt;

&lt;p&gt;To work with arrays in bash you must call the array variable 
“${array[@]}”&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;12 18 24 30 36 42 48&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;count &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;do 
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</content><author><name></name></author><summary type="html">Everyday I figure out small things that make life a little easier and don’t fit in my useful one liners post , I tend to forget them the moment I’m done using it or implementing whatever I need it for. This could be anything from latex to git to bash to vim and in most cases these are just little conveniences. So I’ll attempt to note these useless things here.</summary></entry><entry><title type="html">Browsing: attempting to balance useablity with privacy</title><link href="http://localhost:4000/firefox/security/2017/12/26/browser-privacy.html" rel="alternate" type="text/html" title="Browsing: attempting to balance useablity with privacy" /><published>2017-12-26T12:43:29+02:00</published><updated>2017-12-26T12:43:29+02:00</updated><id>http://localhost:4000/firefox/security/2017/12/26/browser-privacy</id><content type="html" xml:base="http://localhost:4000/firefox/security/2017/12/26/browser-privacy.html">&lt;p&gt;I am of the opinion that most of what we do on a computer occurs in our browser
these days, anything from banking, shopping, connecting, reading and learning
all occurs within this one box.&lt;/p&gt;

&lt;h4 id=&quot;my-browser&quot;&gt;My browser&lt;/h4&gt;

&lt;p&gt;&lt;a href=&quot;https://www.mozilla.org/en-US/firefox/&quot;&gt;Firefox&lt;/a&gt; is my daily browser. I like
their open-source commitment and I’ve never had any major issues, I’m sure I’ll
switch without any guilt if that changes. I’m also a big fan of Firefox Focus
for mobile browsing. A browser that has caught my attention is
&lt;a href=&quot;https://qutebrowser.org/&quot;&gt;Qutebrowser&lt;/a&gt;, its characteristic feature is the vim
like key-bindings, maybe in the future I’ll use it a little more.&lt;/p&gt;

&lt;h4 id=&quot;my-add-ons&quot;&gt;My add-ons&lt;/h4&gt;
&lt;p&gt;Attempting to balance privacy with usability is hard, websites break without
much effort if you use tracking and add blocking tools or the wrong combination
of them. However I have found the following to not ruin my experience at all.
I have three main add-ons that I advocate everyone to use without thinking about
it:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/gorhill/uBlock/&quot;&gt;uBlock Origin&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Block annoying ads and can prevent WebRTC leak IP leak without going into 
  &lt;em&gt;about:config&lt;/em&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.eff.org/https-everywhere&quot;&gt;HTTPS Everywhere&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Make sure you connect to a site using the encrypted https protocol&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.eff.org/privacybadger&quot;&gt;Privacy Badger&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Detect and prevent tracking&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Some more obscure add-ons I’ve added, which may be overkill, include:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://decentraleyes.org/&quot;&gt;Decentraleyes&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://add0n.com/popup-blocker.html&quot;&gt;Popup Blocker&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/kkapsner/CanvasBlocker/&quot;&gt;CanvasBlocker&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Along with this I set my browser to never remember passwords or autofill forms
(I use a password manager for this), to only accept cookies from sites
I visited, and I also enable Tracking Prevention while Do Not Track Request is
on. Firefox can be further customized by entering the &lt;em&gt;about:config&lt;/em&gt;,
I recommend reading trough &lt;a href=&quot;https://www.privacytools.io/#&quot;&gt;Privacy Tools&lt;/a&gt;
before configuring settings here, some settings make the browsing experience
a little less convenient or break websites. Of course you can use
&lt;a href=&quot;https://www.torproject.org/&quot;&gt;TOR&lt;/a&gt; if you’re really paranoid, but this
post is probably not for you if you reach that level.&lt;/p&gt;</content><author><name></name></author><summary type="html">I am of the opinion that most of what we do on a computer occurs in our browser these days, anything from banking, shopping, connecting, reading and learning all occurs within this one box.</summary></entry><entry><title type="html">GMT Part 3: Working with NetCDF data by creating a synoptic weather map</title><link href="http://localhost:4000/maps/data/2017/11/25/using-generic-mapping-tools_netcdf.html" rel="alternate" type="text/html" title="GMT Part 3: Working with NetCDF data by creating a synoptic weather map" /><published>2017-11-25T10:00:29+02:00</published><updated>2017-11-25T10:00:29+02:00</updated><id>http://localhost:4000/maps/data/2017/11/25/using-generic-mapping-tools_netcdf</id><content type="html" xml:base="http://localhost:4000/maps/data/2017/11/25/using-generic-mapping-tools_netcdf.html">&lt;p&gt;For my thesis I had to examine synoptic scale circulation over
South-Africa, I wanted to recreate a &lt;em&gt;classic&lt;/em&gt; synoptic map that
represented mean sea level pressure and also geopotentail at 500hPa.
I knew the &lt;a href=&quot;http://www.weathersa.co.za/&quot;&gt;South-African Weather Service
(SAWS)&lt;/a&gt; has &lt;a href=&quot;http://www.weathersa.co.za/observations/synoptic-charts&quot;&gt;daily
maps&lt;/a&gt; they
make publicly available, but the maps are not always the highest
quality as they are hand drawn - a tedious process I would imagine.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://localhost:4000/assets/images/maps/synoptic_20121109.png&quot; alt=&quot;sawsmap&quot; /&gt;
&lt;sub&gt;A SAWS synoptic map. &lt;/sub&gt;&lt;/p&gt;

&lt;p&gt;In addition to this I was also attempting to better understand GMT’s
handling of NetCDF files. I used
&lt;a href=&quot;http://apps.ecmwf.int/datasets/data/interim-full-daily/levtype%3Dsfc/&quot;&gt;ERA-Interim&lt;/a&gt;
data in my thesis for WRF and also some objective clustering, the ERA
dataset was thus the obvious choice. Using GMT to recreate these
synoptic maps took me a couple of days, mostly the time consumption
was related to handling the NetCDF data.  GMT uses Reverse Polish
Notation (RPN) for math functions which I needed to figure out as
you’ll see. It is also useful to have CDO, ncview and ncdump installed
for data inspection and manipulating. A last point is that I compiled
it all in a bash script, this is useful for various reasons, so just
learn to do it.&lt;/p&gt;

&lt;p&gt;First off a synoptic map is pretty simple, it consists of pressure
levels and if you really want you can add some other variables such as
CAPE, temperature, precipitate water, and so forth. Synoptic mainly
refers to a scale in this context if you wondered, a 1975
&lt;a href=&quot;https://www.gfdl.noaa.gov/bibliography/related_files/io7501.pdf&quot;&gt;paper&lt;/a&gt;
by Isidoro Orlanski explains this concept of scale related to weather
and climate clearly.  You’ll notice is that the projection used in the
SAWS map is not the Mercator projection I’ve used previously, but
instead a &lt;a href=&quot;https://en.wikipedia.org/wiki/Cylindrical_equal-area_projection&quot;&gt;equal area
projection&lt;/a&gt;,
namely &lt;a href=&quot;https://en.wikipedia.org/wiki/Lambert_azimuthal_equal-area_projection&quot;&gt;Lambert Azimuthal
Equal-Area&lt;/a&gt;.
Coincidently someone already explained the projection using
South-Africa   as an
&lt;a href=&quot;http://www-k12.atmos.washington.edu/~ovens/gmt/doc/html/GMT_Docs/node71.html&quot;&gt;example&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A quick drawing of the basemap and we can see th projection is
similar,&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gmt psbasemap &lt;span class=&quot;nt&quot;&gt;-R-20&lt;/span&gt;/-46/60/-12r &lt;span class=&quot;nt&quot;&gt;-JA25&lt;/span&gt;/-30/25.5 &lt;span class=&quot;nt&quot;&gt;-Xc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Yc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B15a0g15&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; lambert_base.ps&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;http://localhost:4000/assets/images/maps/lambert_base.png&quot; alt=&quot;basemap&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This does not mean a lot without any land referance, the -K option
tells us we want to add something later to the map. Using pscoast and
-Df and -N1 options we can add coastlines and national borders to this
map,&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gmt pscoast &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Df&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-N1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; lambert_base.ps&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;http://localhost:4000/assets/images/maps/lambert_base_coast.png&quot; alt=&quot;basemap_coast&quot; /&gt;&lt;/p&gt;

&lt;p&gt;That was pretty straight forward, we can see that the map is more or
less similar to the synoptic map we want to make. Now we need to add
the pressure lines to the map, this gets a little more tricky. As
mentioned, I used &lt;a href=&quot;http://apps.ecmwf.int/datasets/data/interim-full-daily/levtype%3Dsfc/&quot;&gt;ERA-Interim&lt;/a&gt;
data in my thesis, the data is maintained by the
&lt;a href=&quot;https://www.ecmwf.int/&quot;&gt;ECMWF&lt;/a&gt; and publicly available, you do however
need to sign up to use the data. You can download the
data directly from the website, it is however easier to use the &lt;a href=&quot;https://software.ecmwf.int/wiki/display/WEBAPI/Access+ECMWF+Public+Datasets&quot;&gt;ECMWF
Python API&lt;/a&gt;.
Do this to use the script I wrote below, otherwise it will
not work and you’ll think I’m stupid. So, once you’ve got that set up
the rest will make a little more sense.&lt;/p&gt;

&lt;p&gt;I initially tried to just run gmt grdimage without any data conversion, this
did not work. Inspecting the ordinal data with,&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ncdump &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; msl.nc &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Shows us the msl variable is is present,&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;netcdf msl &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
dimensions:
	longitude &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 480 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	latitude &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 241 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; UNLIMITED &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; // &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1 currently&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
variables:
	float longitude&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;longitude&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		longitude:units &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;degrees_east&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		longitude:long_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;longitude&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	float latitude&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;latitude&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		latitude:units &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;degrees_north&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		latitude:long_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;latitude&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	int &lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt;:units &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;hours since 1900-01-01 00:00:0.0&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt;:long_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;time&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt;:calendar &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gregorian&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	short msl&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt;, latitude, longitude&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		msl:scale_factor &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 0.130510582454641 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		msl:add_offset &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 99611.2472447088 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		msl:_FillValue &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-32767s&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		msl:missing_value &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-32767s&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		msl:units &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Pa&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		msl:long_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Mean sea level pressure&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		msl:standard_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;air_pressure_at_sea_level&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;I think the data needs to be in a 2-dimensional grid, explained
&lt;a href=&quot;http://gmt.soest.hawaii.edu/doc/latest/grdconvert.html#gmt-standard-netcdf-files&quot;&gt;here&lt;/a&gt;
in more detail. To get a GMT compliant file we need to do,&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'msl.nc?msl'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gmslp_org&lt;/span&gt;.nc&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Inspecting the data shows us that z has replaced msl&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;netcdf mslp_org &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
dimensions:
	lon &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 480 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	lat &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 241 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
variables:
	double lon&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;lon&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		lon:long_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;longitude&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		lon:units &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;degrees_east&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		lon:actual_range &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-180&lt;/span&gt;., 179.25 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	double lat&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;lat&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		lat:long_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;latitude&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		lat:units &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;degrees_north&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		lat:actual_range &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-90&lt;/span&gt;., 90. &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	float z&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;lat, lon&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		z:long_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Mean sea level pressure&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		z:units &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Pa&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		z:_FillValue &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; NaNf &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		z:actual_range &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 95334.9375, 103887.6875 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;We can also see that 95334 is not a pressure value, we have to divide
it by 100. It is possible to use CDO or NCO tools, but the powerful
GMT has math functions in the form of &lt;a href=&quot;https://en.wikipedia.org/wiki/Reverse_Polish_notation&quot;&gt;Reverse Polish Notation
(RPN)&lt;/a&gt;. To
convert new mslp value by a 100 we can do&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gmt grdmath mslp_org.nc 100 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; mslp_nrm.nc&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Because the data covers the whole word we can make a quick plot
without to much trouble using grdimage to see if everything seems
realistic enough.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gmt grdimage mslp_nrm.nc &lt;span class=&quot;nt&quot;&gt;-JX25&lt;/span&gt;/0d &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; mslp.ps
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-Rmslp_nrm&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-JX&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.5 &lt;span class=&quot;nt&quot;&gt;-N3&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; mslp.ps &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This gives us a image of the mslp scaled and covering the whole world. 
&lt;img src=&quot;http://localhost:4000/assets/images/maps/mslp.png&quot; alt=&quot;gmtmslp&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We do however want a contoured mslp and also clip it to South-Africa.
To do this we need to call the psbasemap and pscoast functions we used
earlier and then use grdcontour to contour the data.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gmt psbasemap &lt;span class=&quot;nt&quot;&gt;-R-20&lt;/span&gt;/-46/60/-12r &lt;span class=&quot;nt&quot;&gt;-JA25&lt;/span&gt;/-30/25.5 &lt;span class=&quot;nt&quot;&gt;-Xc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Yc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B15a0g15&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; synoptic_map.ps
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Df&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-N1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; synoptic_map.ps 
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wthinnest&lt;/span&gt; mslp_nrm.nc &lt;span class=&quot;nt&quot;&gt;-C4&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A4&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; synoptic_map.ps &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;We get a nice map with the MSLP contoured over South-Africa, much like
the original synoptic map.
&lt;img src=&quot;http://localhost:4000/assets/images/maps/synoptic_map.png&quot; alt=&quot;gmtsynopticmap&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We can see that the ERA created map captures similar features as
the SAWS synoptic map; note the South-Indian Ocean High Pressure and
the South-Atlantic High Pressure and the low pressure from the
Easterly Wave over the Country. To add the L and H indicators I would
use inkscape at this time, a script would be possible but that is
beyond me right now. The weather stations indicators would also theoretically be
possible and I’ll try to figure that out in the future. 
The below map is the final map I created, you can see The script below
does all the above steps with the addition of the upper 500hPa
geopotential. I also added some color. In the end we end up with a new
and improved (in my subjective opinion) synoptic map as seen below.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://localhost:4000/assets/images/maps/southafrica_syn.png&quot; alt=&quot;gmtsynopticmap&quot; /&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;####################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# This is to make a synotpic map                   #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# See below source for some more info              #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# http://gmt.soest.hawaii.edu/boards/1/topics/5997 #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;####################################################&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;####################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Step 1: Download the ERA-DATA with this script   #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;####################################################&lt;/span&gt;

python &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;
from ecmwfapi import ECMWFDataServer
server = ECMWFDataServer()
server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2012-11-09/to/2012-11-09&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levtype&quot;: &quot;sfc&quot;,
    &quot;param&quot;: &quot;151.128&quot;,
    &quot;step&quot;: &quot;0&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;12:00:00&quot;,
    &quot;type&quot;: &quot;an&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;msl.nc&quot;,
})

server.retrieve({
    &quot;class&quot;: &quot;ei&quot;,
    &quot;dataset&quot;: &quot;interim&quot;,
    &quot;date&quot;: &quot;2012-11-09/to/2012-11-09&quot;,
    &quot;expver&quot;: &quot;1&quot;,
    &quot;grid&quot;: &quot;0.75/0.75&quot;,
    &quot;levelist&quot;: &quot;500&quot;,
    &quot;levtype&quot;: &quot;pl&quot;,
    &quot;param&quot;: &quot;129.128&quot;,
    &quot;step&quot;: &quot;0&quot;,
    &quot;stream&quot;: &quot;oper&quot;,
    &quot;time&quot;: &quot;12:00:00&quot;,
    &quot;type&quot;: &quot;an&quot;,
    &quot;format&quot;:&quot;netcdf&quot;,
    &quot;target&quot;: &quot;zg500.nc&quot;,
})
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF

&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ERA-Data downloaded. Press enter to continue and convert data for use in GMT &quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#############################################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# The file is not compatible with GMT, to get it to work do ?msl           #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# selects the variable we want and writes it to mslp.nc. The '' is         #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# important otherwise bash looks for a wildcard.                           #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# The units are also wrong to correct them we need to use gmt grdmath      #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#############################################################################&lt;/span&gt;

gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'msl.nc?msl'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gmslp_org&lt;/span&gt;.nc
gmt grdedit mslp_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;
gmt grdmath mslp_org.nc 100 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; mslp_nrm.nc

gmt grdconvert &lt;span class=&quot;s1&quot;&gt;'zg500.nc?z'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gzg500_org&lt;/span&gt;.nc
gmt grdedit zg500_org.nc &lt;span class=&quot;nt&quot;&gt;-R-180&lt;/span&gt;/180/-90/90 &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt;
gmt grdmath zg500_org.nc 10 DIV &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; zg500_nrm.nc

&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Lets inspect the data with ncdump. Press enter to continue &quot;&lt;/span&gt;
ncdump &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; mslp_nrm.nc
ncdump &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; zg500_nrm.nc

&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Lets inspect the data with grdinfo. Press enter to continue &quot;&lt;/span&gt;
gmt grdinfo mslp_nrm.nc
gmt grdinfo zg500_nrm.nc

&lt;span class=&quot;c&quot;&gt;####################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Here we create a very basic map to view our data #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;####################################################&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Lets create a world map. Press enter to continue &quot;&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'MSLP map '&lt;/span&gt;
gmt grdimage mslp_nrm.nc &lt;span class=&quot;nt&quot;&gt;-JX25&lt;/span&gt;/0d &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; mslp.ps
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-Rmslp_nrm&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-JX&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.5 &lt;span class=&quot;nt&quot;&gt;-N3&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; mslp.ps

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Geopotential map '&lt;/span&gt;
gmt grdimage zg500_nrm.nc &lt;span class=&quot;nt&quot;&gt;-JX25&lt;/span&gt;/0d &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; zg500.ps
gmt pscoast &lt;span class=&quot;nt&quot;&gt;-Rzg500_nrm&lt;/span&gt;.nc &lt;span class=&quot;nt&quot;&gt;-JX&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W0&lt;/span&gt;.5 &lt;span class=&quot;nt&quot;&gt;-N3&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; zg500.ps

&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;World map created. We will now create a map of South-Africa. Press enter to continue &quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#################################################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Now we need to create a contoured map from the netcdf file for SA             #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# See https://www.soest.hawaii.edu/gmt/gmt/html/man/gmtcolors.html              #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# http://gmt.soest.hawaii.edu/doc/latest/GMT_Docs.html#specifying-pen-attributes#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#################################################################################&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;southafrica_syn.ps
 
&lt;span class=&quot;c&quot;&gt;#Coordinates (actually lower left and upper right not E S W N) &lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;east&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-20&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;south&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-46&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;west&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;60
&lt;span class=&quot;nv&quot;&gt;north&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-12r&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#Projection (Lambert Azimuthal Equal-Area)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;25.5

gmt psbasemap  &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$east&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$south&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$west&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$north&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA25&lt;/span&gt;/-30/&lt;span class=&quot;nv&quot;&gt;$width&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Xc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Yc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B15a0g15&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt pscoast    &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Df&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-N1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Givory&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Slightskyblue&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wthinnest&lt;/span&gt; mslp_nrm.nc &lt;span class=&quot;nt&quot;&gt;-C2&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A2&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;
gmt grdcontour &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-JA&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wthick&lt;/span&gt;,red zg500_nrm.nc &lt;span class=&quot;nt&quot;&gt;-C100&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A100&lt;/span&gt;+v &lt;span class=&quot;nt&quot;&gt;-P&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Gn1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$out&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Done. Press enter to continue &quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</content><author><name></name></author><summary type="html">For my thesis I had to examine synoptic scale circulation over South-Africa, I wanted to recreate a classic synoptic map that represented mean sea level pressure and also geopotentail at 500hPa. I knew the South-African Weather Service (SAWS) has daily maps they make publicly available, but the maps are not always the highest quality as they are hand drawn - a tedious process I would imagine.</summary></entry></feed>